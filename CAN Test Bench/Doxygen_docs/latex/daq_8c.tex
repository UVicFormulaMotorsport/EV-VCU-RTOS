\doxysection{Core/\+Src/daq.c File Reference}
\hypertarget{daq_8c}{}\label{daq_8c}\index{Core/Src/daq.c@{Core/Src/daq.c}}
{\ttfamily \#include "{}uvfr\+\_\+utils.\+h"{}}\newline
{\ttfamily \#include "{}daq.\+h"{}}\newline
{\ttfamily \#include "{}stm32f4xx\+\_\+hal\+\_\+conf.\+h"{}}\newline
{\ttfamily \#include "{}stm32f407xx.\+h"{}}\newline
{\ttfamily \#include "{}stm32f4xx\+\_\+hal.\+h"{}}\newline
{\ttfamily \#include "{}stm32f4xx\+\_\+hal\+\_\+adc.\+h"{}}\newline
{\ttfamily \#include "{}stm32f4xx\+\_\+hal\+\_\+rcc.\+h"{}}\newline
Include dependency graph for daq.\+c\+:
% FIG 0
\doxysubsubsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structdaq__param__list__node}{daq\+\_\+param\+\_\+list\+\_\+node}}
\item 
struct \mbox{\hyperlink{structdaq__child__task}{daq\+\_\+child\+\_\+task}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{daq_8c_a5a6490a76926af0287e58c4b1af260bd}{\+\_\+\+SRC\+\_\+\+UVFR\+\_\+\+DAQ}}
\item 
\#define \mbox{\hyperlink{daq_8c_aba239cbf28dfdbe0359593717f8705d5}{INV\+\_\+\+DAQ\+\_\+P}}~0x\+FFFF
\end{DoxyCompactItemize}
\doxysubsubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef struct daq\+\_\+param\+\_\+list\+\_\+node \mbox{\hyperlink{daq_8c_a4a7e5c4a5e65c315010bab902f2268a6}{daq\+\_\+param\+\_\+list\+\_\+node}}
\item 
typedef struct daq\+\_\+child\+\_\+task \mbox{\hyperlink{daq_8c_a2104fed000d8cb392baf5d14e06193c1}{daq\+\_\+child\+\_\+task}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{daq_8c_a740f6299f5ce19d6d94d148e13231dd9}{daq\+Sub\+Task}} (void \texorpdfstring{$\ast$}{*}args)
\begin{DoxyCompactList}\small\item\em Child Task responsible for sending DAQ messages at a set period. \end{DoxyCompactList}\item 
\mbox{\hyperlink{can_8h_aef3770e45bbacbf527fd93dd80eea9b9}{uv\+\_\+status}} \mbox{\hyperlink{daq_8c_a56ca1193de01115c27ceb3768994017f}{associate\+Daq\+Param\+With\+Var}} (uint16\+\_\+t param\+ID, void \texorpdfstring{$\ast$}{*}var)
\item 
\mbox{\hyperlink{can_8h_aef3770e45bbacbf527fd93dd80eea9b9}{uv\+\_\+status}} \mbox{\hyperlink{daq_8c_ab5fd6b7e1a2b15c2c834291f9386d1ef}{insert\+Param\+To\+Register}} (\mbox{\hyperlink{structdaq__param__list__node}{daq\+\_\+param\+\_\+list\+\_\+node}} \texorpdfstring{$\ast$}{*}node, \mbox{\hyperlink{structdaq__msg}{daq\+\_\+msg}} \texorpdfstring{$\ast$}{*}datapoint)
\item 
\mbox{\hyperlink{can_8h_aef3770e45bbacbf527fd93dd80eea9b9}{uv\+\_\+status}} \mbox{\hyperlink{daq_8c_a9e1cd582f8748d018266ba4ab15561ae}{configure\+Daq\+Sub\+Tasks}} ()
\begin{DoxyCompactList}\small\item\em This pre-\/allocates parameters to one of the daq subtasks. \end{DoxyCompactList}\item 
\mbox{\hyperlink{can_8h_aef3770e45bbacbf527fd93dd80eea9b9}{uv\+\_\+status}} \mbox{\hyperlink{daq_8c_a65df75bcd76d421bf28fca5704c8ff95}{start\+Daq\+Sub\+Tasks}} ()
\begin{DoxyCompactList}\small\item\em Function that starts up all the subtasks. \end{DoxyCompactList}\item 
\mbox{\hyperlink{can_8h_aef3770e45bbacbf527fd93dd80eea9b9}{uv\+\_\+status}} \mbox{\hyperlink{daq_8c_ad3997ae047f3e30136b3f2b668c8030a}{stop\+Daq\+Sub\+Tasks}} ()
\begin{DoxyCompactList}\small\item\em Function that shuts down the subtasks. \end{DoxyCompactList}\item 
\mbox{\hyperlink{can_8h_aef3770e45bbacbf527fd93dd80eea9b9}{uv\+\_\+status}} \mbox{\hyperlink{daq_8c_af2c619df9f3d115dcbc511b0bb738e87}{init\+Daq\+Task}} (void \texorpdfstring{$\ast$}{*}args)
\begin{DoxyCompactList}\small\item\em initializes the master DAQ task, all that fun stuff. This task probably manages a while plethora of smaller tasks \end{DoxyCompactList}\item 
void \mbox{\hyperlink{daq_8c_a433bb586ceab47aed8d633fa2ff8ce56}{daq\+Master\+Task}} (void \texorpdfstring{$\ast$}{*}args)
\begin{DoxyCompactList}\small\item\em Controls the Daq. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
uint64\+\_\+t \mbox{\hyperlink{daq_8c_a08de9f1889def4ee8d79962e6044bb0f}{constant\+\_\+zero}} = 0
\item 
volatile uint16\+\_\+t \mbox{\hyperlink{daq_8c_a2273a53b295e470100af298a0be7d8d7}{coolant\+\_\+temp\+\_\+adc}} = 0
\item 
volatile uint16\+\_\+t \mbox{\hyperlink{daq_8c_a0611933f2919b8900cd5e667043747fe}{motor\+\_\+temp\+\_\+adc}} = 0
\item 
ADC\+\_\+\+Handle\+Type\+Def \mbox{\hyperlink{daq_8c_a22b804736f5648d52f639b2647d4ed13}{hadc1}}
\item 
\mbox{\hyperlink{structdaq__loop__args}{daq\+\_\+loop\+\_\+args}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{daq_8c_a5a9a97f4494923c066b5c4faaaaf8f88}{curr\+\_\+daq\+\_\+settings}} = NULL
\item 
\mbox{\hyperlink{structdaq__loop__args}{daq\+\_\+loop\+\_\+args}} \mbox{\hyperlink{daq_8c_a22b4a1eccdbbbf445f1847cc3a49c3e0}{default\+\_\+daq\+\_\+settings}}
\item 
\mbox{\hyperlink{structdaq__msg}{daq\+\_\+msg}} \mbox{\hyperlink{daq_8c_af2240542724a20552b90fafa9642884d}{default\+\_\+datapoints}} \mbox{[}$\,$\mbox{]}
\item 
\mbox{\hyperlink{structuv___c_a_n__msg}{uv\+\_\+\+CAN\+\_\+msg}} \mbox{\hyperlink{daq_8c_a46330ae75c3716f15677e104e8cced32}{tmp\+\_\+daq\+\_\+msg}}
\end{DoxyCompactItemize}


\doxysubsection{Macro Definition Documentation}
\Hypertarget{daq_8c_a5a6490a76926af0287e58c4b1af260bd}\index{daq.c@{daq.c}!\_SRC\_UVFR\_DAQ@{\_SRC\_UVFR\_DAQ}}
\index{\_SRC\_UVFR\_DAQ@{\_SRC\_UVFR\_DAQ}!daq.c@{daq.c}}
\doxysubsubsection{\texorpdfstring{\_SRC\_UVFR\_DAQ}{\_SRC\_UVFR\_DAQ}}
{\footnotesize\ttfamily \label{daq_8c_a5a6490a76926af0287e58c4b1af260bd} 
\#define \+\_\+\+SRC\+\_\+\+UVFR\+\_\+\+DAQ}



Definition at line \mbox{\hyperlink{daq_8c_source_l00001}{1}} of file \mbox{\hyperlink{daq_8c_source}{daq.\+c}}.

\Hypertarget{daq_8c_aba239cbf28dfdbe0359593717f8705d5}\index{daq.c@{daq.c}!INV\_DAQ\_P@{INV\_DAQ\_P}}
\index{INV\_DAQ\_P@{INV\_DAQ\_P}!daq.c@{daq.c}}
\doxysubsubsection{\texorpdfstring{INV\_DAQ\_P}{INV\_DAQ\_P}}
{\footnotesize\ttfamily \label{daq_8c_aba239cbf28dfdbe0359593717f8705d5} 
\#define INV\+\_\+\+DAQ\+\_\+P~0x\+FFFF}



Definition at line \mbox{\hyperlink{daq_8c_source_l00012}{12}} of file \mbox{\hyperlink{daq_8c_source}{daq.\+c}}.



\doxysubsection{Typedef Documentation}
\Hypertarget{daq_8c_a2104fed000d8cb392baf5d14e06193c1}\index{daq.c@{daq.c}!daq\_child\_task@{daq\_child\_task}}
\index{daq\_child\_task@{daq\_child\_task}!daq.c@{daq.c}}
\doxysubsubsection{\texorpdfstring{daq\_child\_task}{daq\_child\_task}}
{\footnotesize\ttfamily \label{daq_8c_a2104fed000d8cb392baf5d14e06193c1} 
typedef struct daq\+\_\+child\+\_\+task daq\+\_\+child\+\_\+task}

\Hypertarget{daq_8c_a4a7e5c4a5e65c315010bab902f2268a6}\index{daq.c@{daq.c}!daq\_param\_list\_node@{daq\_param\_list\_node}}
\index{daq\_param\_list\_node@{daq\_param\_list\_node}!daq.c@{daq.c}}
\doxysubsubsection{\texorpdfstring{daq\_param\_list\_node}{daq\_param\_list\_node}}
{\footnotesize\ttfamily \label{daq_8c_a4a7e5c4a5e65c315010bab902f2268a6} 
typedef struct daq\+\_\+param\+\_\+list\+\_\+node daq\+\_\+param\+\_\+list\+\_\+node}



\doxysubsection{Function Documentation}
\Hypertarget{daq_8c_a56ca1193de01115c27ceb3768994017f}\index{daq.c@{daq.c}!associateDaqParamWithVar@{associateDaqParamWithVar}}
\index{associateDaqParamWithVar@{associateDaqParamWithVar}!daq.c@{daq.c}}
\doxysubsubsection{\texorpdfstring{associateDaqParamWithVar()}{associateDaqParamWithVar()}}
{\footnotesize\ttfamily \label{daq_8c_a56ca1193de01115c27ceb3768994017f} 
\mbox{\hyperlink{can_8h_aef3770e45bbacbf527fd93dd80eea9b9}{uv\+\_\+status}} associate\+Daq\+Param\+With\+Var (\begin{DoxyParamCaption}\item[{uint16\+\_\+t}]{param\+ID}{, }\item[{void \texorpdfstring{$\ast$}{*}}]{var}{}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{daq_8c_source_l00087}{87}} of file \mbox{\hyperlink{daq_8c_source}{daq.\+c}}.



References \mbox{\hyperlink{daq_8h_source_l00079}{MAX\+\_\+\+LOGGABLE\+\_\+\+PARAMS}}, \mbox{\hyperlink{uvfr__utils_8h_source_l00176}{UV\+\_\+\+ERROR}}, \mbox{\hyperlink{uvfr__utils_8h_source_l00174}{UV\+\_\+\+OK}}, and \mbox{\hyperlink{uvfr__utils_8c_source_l00487}{uv\+Is\+PTRValid()}}.



Referenced by \mbox{\hyperlink{daq_8c_source_l00257}{init\+Daq\+Task()}}, \mbox{\hyperlink{driving__loop_8c_source_l00108}{init\+Driving\+Loop()}}, and \mbox{\hyperlink{uvfr__state__engine_8c_source_l00168}{uv\+Init\+State\+Engine()}}.

Here is the call graph for this function\+:
% FIG 1
\Hypertarget{daq_8c_a9e1cd582f8748d018266ba4ab15561ae}\index{daq.c@{daq.c}!configureDaqSubTasks@{configureDaqSubTasks}}
\index{configureDaqSubTasks@{configureDaqSubTasks}!daq.c@{daq.c}}
\doxysubsubsection{\texorpdfstring{configureDaqSubTasks()}{configureDaqSubTasks()}}
{\footnotesize\ttfamily \label{daq_8c_a9e1cd582f8748d018266ba4ab15561ae} 
\mbox{\hyperlink{can_8h_aef3770e45bbacbf527fd93dd80eea9b9}{uv\+\_\+status}} configure\+Daq\+Sub\+Tasks (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



This pre-\/allocates parameters to one of the daq subtasks. 



Definition at line \mbox{\hyperlink{daq_8c_source_l00183}{183}} of file \mbox{\hyperlink{daq_8c_source}{daq.\+c}}.



References \mbox{\hyperlink{daq_8c_source_l00046}{curr\+\_\+daq\+\_\+settings}}, \mbox{\hyperlink{uvfr__settings_8c_source_l00025}{current\+\_\+vehicle\+\_\+settings}}, \mbox{\hyperlink{uvfr__settings_8h_source_l00165}{uv\+\_\+vehicle\+\_\+settings\+::daq\+\_\+param\+\_\+list}}, \mbox{\hyperlink{daq_8c_source_l00124}{insert\+Param\+To\+Register()}}, \mbox{\hyperlink{daq_8h_source_l00098}{daq\+\_\+loop\+\_\+args\+::total\+\_\+params\+\_\+logged}}, \mbox{\hyperlink{uvfr__utils_8h_source_l00176}{UV\+\_\+\+ERROR}}, and \mbox{\hyperlink{uvfr__utils_8h_source_l00174}{UV\+\_\+\+OK}}.



Referenced by \mbox{\hyperlink{daq_8c_source_l00257}{init\+Daq\+Task()}}.

Here is the call graph for this function\+:
% FIG 2
\Hypertarget{daq_8c_a433bb586ceab47aed8d633fa2ff8ce56}\index{daq.c@{daq.c}!daqMasterTask@{daqMasterTask}}
\index{daqMasterTask@{daqMasterTask}!daq.c@{daq.c}}
\doxysubsubsection{\texorpdfstring{daqMasterTask()}{daqMasterTask()}}
{\footnotesize\ttfamily \label{daq_8c_a433bb586ceab47aed8d633fa2ff8ce56} 
void daq\+Master\+Task (\begin{DoxyParamCaption}\item[{void \texorpdfstring{$\ast$}{*}}]{args}{}\end{DoxyParamCaption})}



Controls the Daq. 

These here lines set the delay. This task executes exactly at the period specified, regardless of how long the task execution actually takes


\begin{DoxyCode}{0}
\DoxyCodeLine{\ */}
\DoxyCodeLine{\textcolor{comment}{//TickType\_t\ tick\_period\ =\ pdMS\_TO\_TICKS(params-\/>task\_period);\ //Convert\ ms\ of\ period\ to\ the\ RTOS\ ticks}}
\DoxyCodeLine{\textcolor{comment}{//TickType\_t\ last\_time\ =\ xTaskGetTickCount();\ \ \ \ \ \ \ /**}}

\end{DoxyCode}


Definition at line \mbox{\hyperlink{daq_8c_source_l00305}{305}} of file \mbox{\hyperlink{daq_8c_source}{daq.\+c}}.



References \mbox{\hyperlink{uvfr__state__engine_8h_source_l00248}{uv\+\_\+task\+\_\+info\+::cmd\+\_\+data}}, \mbox{\hyperlink{uvfr__state__engine_8c_source_l00724}{kill\+Self()}}, \mbox{\hyperlink{daq_8c_source_l00210}{start\+Daq\+Sub\+Tasks()}}, \mbox{\hyperlink{uvfr__state__engine_8h_source_l00231}{uv\+\_\+task\+\_\+info\+::task\+\_\+period}}, \mbox{\hyperlink{uvfr__state__engine_8h_source_l00105}{UV\+\_\+\+KILL\+\_\+\+CMD}}, \mbox{\hyperlink{uvfr__utils_8h_source_l00174}{UV\+\_\+\+OK}}, \mbox{\hyperlink{uvfr__state__engine_8h_source_l00106}{UV\+\_\+\+SUSPEND\+\_\+\+CMD}}, and \mbox{\hyperlink{uvfr__state__engine_8h_source_l00295}{uv\+Task\+Delay}}.



Referenced by \mbox{\hyperlink{daq_8c_source_l00257}{init\+Daq\+Task()}}.

Here is the call graph for this function\+:
% FIG 3
\Hypertarget{daq_8c_a740f6299f5ce19d6d94d148e13231dd9}\index{daq.c@{daq.c}!daqSubTask@{daqSubTask}}
\index{daqSubTask@{daqSubTask}!daq.c@{daq.c}}
\doxysubsubsection{\texorpdfstring{daqSubTask()}{daqSubTask()}}
{\footnotesize\ttfamily \label{daq_8c_a740f6299f5ce19d6d94d148e13231dd9} 
void daq\+Sub\+Task (\begin{DoxyParamCaption}\item[{void \texorpdfstring{$\ast$}{*}}]{args}{}\end{DoxyParamCaption})}



Child Task responsible for sending DAQ messages at a set period. 

One task per period 

Definition at line \mbox{\hyperlink{daq_8c_source_l00441}{441}} of file \mbox{\hyperlink{daq_8c_source}{daq.\+c}}.



References \mbox{\hyperlink{daq_8c_source_l00041}{daq\+\_\+child\+\_\+task\+::param\+\_\+list}}, and \mbox{\hyperlink{daq_8c_source_l00040}{daq\+\_\+child\+\_\+task\+::period}}.



Referenced by \mbox{\hyperlink{daq_8c_source_l00210}{start\+Daq\+Sub\+Tasks()}}.

\Hypertarget{daq_8c_af2c619df9f3d115dcbc511b0bb738e87}\index{daq.c@{daq.c}!initDaqTask@{initDaqTask}}
\index{initDaqTask@{initDaqTask}!daq.c@{daq.c}}
\doxysubsubsection{\texorpdfstring{initDaqTask()}{initDaqTask()}}
{\footnotesize\ttfamily \label{daq_8c_af2c619df9f3d115dcbc511b0bb738e87} 
\mbox{\hyperlink{can_8h_aef3770e45bbacbf527fd93dd80eea9b9}{uv\+\_\+status}} init\+Daq\+Task (\begin{DoxyParamCaption}\item[{void \texorpdfstring{$\ast$}{*}}]{args}{}\end{DoxyParamCaption})}



initializes the master DAQ task, all that fun stuff. This task probably manages a while plethora of smaller tasks 

This is a fairly standard function. Here are the things that it does in order\+:

Step 1\+: Get Daq settings.

Step 2\+: Create and configure DAQ task.

Step 3\+: Read which parameters we want to read.

Step 4\+: Generate Subtask Metadata

Step 5\+: Assign params to subtasks 

Definition at line \mbox{\hyperlink{daq_8c_source_l00257}{257}} of file \mbox{\hyperlink{daq_8c_source}{daq.\+c}}.



References \mbox{\hyperlink{uvfr__state__engine_8h_source_l00258}{uv\+\_\+task\+\_\+info\+::active\+\_\+states}}, \mbox{\hyperlink{daq_8c_source_l00087}{associate\+Daq\+Param\+With\+Var()}}, \mbox{\hyperlink{daq_8h_source_l00101}{daq\+\_\+loop\+\_\+args\+::can\+\_\+channel}}, \mbox{\hyperlink{daq_8c_source_l00183}{configure\+Daq\+Sub\+Tasks()}}, \mbox{\hyperlink{daq_8h_source_l00059}{COOLANT\+\_\+\+TEMP\+\_\+\+ADC}}, \mbox{\hyperlink{daq_8c_source_l00018}{coolant\+\_\+temp\+\_\+adc}}, \mbox{\hyperlink{daq_8c_source_l00046}{curr\+\_\+daq\+\_\+settings}}, \mbox{\hyperlink{uvfr__settings_8c_source_l00025}{current\+\_\+vehicle\+\_\+settings}}, \mbox{\hyperlink{daq_8h_source_l00102}{daq\+\_\+loop\+\_\+args\+::daq\+\_\+child\+\_\+priority}}, \mbox{\hyperlink{uvfr__settings_8h_source_l00165}{uv\+\_\+vehicle\+\_\+settings\+::daq\+\_\+param\+\_\+list}}, \mbox{\hyperlink{uvfr__settings_8h_source_l00163}{uv\+\_\+vehicle\+\_\+settings\+::daq\+\_\+settings}}, \mbox{\hyperlink{daq_8c_source_l00305}{daq\+Master\+Task()}}, \mbox{\hyperlink{uvfr__state__engine_8h_source_l00259}{uv\+\_\+task\+\_\+info\+::deletion\+\_\+states}}, \mbox{\hyperlink{uvfr__utils_8h_source_l00283}{uv\+\_\+\+CAN\+\_\+msg\+::flags}}, \mbox{\hyperlink{daq_8h_source_l00060}{MOTOR\+\_\+\+TEMP\+\_\+\+ADC}}, \mbox{\hyperlink{daq_8c_source_l00019}{motor\+\_\+temp\+\_\+adc}}, \mbox{\hyperlink{uvfr__state__engine_8h_source_l00091}{PROGRAMMING}}, \mbox{\hyperlink{uvfr__state__engine_8h_source_l00238}{uv\+\_\+task\+\_\+info\+::stack\+\_\+size}}, \mbox{\hyperlink{uvfr__state__engine_8h_source_l00260}{uv\+\_\+task\+\_\+info\+::suspension\+\_\+states}}, \mbox{\hyperlink{uvfr__state__engine_8h_source_l00250}{uv\+\_\+task\+\_\+info\+::task\+\_\+args}}, \mbox{\hyperlink{uvfr__state__engine_8h_source_l00234}{uv\+\_\+task\+\_\+info\+::task\+\_\+function}}, \mbox{\hyperlink{uvfr__state__engine_8h_source_l00229}{uv\+\_\+task\+\_\+info\+::task\+\_\+name}}, \mbox{\hyperlink{uvfr__state__engine_8h_source_l00231}{uv\+\_\+task\+\_\+info\+::task\+\_\+period}}, \mbox{\hyperlink{uvfr__state__engine_8h_source_l00235}{uv\+\_\+task\+\_\+info\+::task\+\_\+priority}}, \mbox{\hyperlink{daq_8c_source_l00240}{tmp\+\_\+daq\+\_\+msg}}, \mbox{\hyperlink{uvfr__state__engine_8h_source_l00092}{UV\+\_\+\+DRIVING}}, \mbox{\hyperlink{uvfr__utils_8h_source_l00176}{UV\+\_\+\+ERROR}}, \mbox{\hyperlink{uvfr__state__engine_8h_source_l00095}{UV\+\_\+\+ERROR\+\_\+\+STATE}}, \mbox{\hyperlink{uvfr__state__engine_8h_source_l00094}{UV\+\_\+\+LAUNCH\+\_\+\+CONTROL}}, \mbox{\hyperlink{uvfr__utils_8h_source_l00174}{UV\+\_\+\+OK}}, \mbox{\hyperlink{uvfr__state__engine_8h_source_l00090}{UV\+\_\+\+READY}}, and \mbox{\hyperlink{uvfr__state__engine_8c_source_l00285}{uv\+Create\+Task()}}.



Referenced by \mbox{\hyperlink{uvfr__state__engine_8c_source_l00168}{uv\+Init\+State\+Engine()}}.

Here is the call graph for this function\+:
% FIG 4
\Hypertarget{daq_8c_ab5fd6b7e1a2b15c2c834291f9386d1ef}\index{daq.c@{daq.c}!insertParamToRegister@{insertParamToRegister}}
\index{insertParamToRegister@{insertParamToRegister}!daq.c@{daq.c}}
\doxysubsubsection{\texorpdfstring{insertParamToRegister()}{insertParamToRegister()}}
{\footnotesize\ttfamily \label{daq_8c_ab5fd6b7e1a2b15c2c834291f9386d1ef} 
\mbox{\hyperlink{can_8h_aef3770e45bbacbf527fd93dd80eea9b9}{uv\+\_\+status}} insert\+Param\+To\+Register (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structdaq__param__list__node}{daq\+\_\+param\+\_\+list\+\_\+node}} \texorpdfstring{$\ast$}{*}}]{node}{, }\item[{\mbox{\hyperlink{structdaq__msg}{daq\+\_\+msg}} \texorpdfstring{$\ast$}{*}}]{datapoint}{}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{daq_8c_source_l00124}{124}} of file \mbox{\hyperlink{daq_8c_source}{daq.\+c}}.



References \mbox{\hyperlink{daq_8h_source_l00084}{daq\+\_\+msg\+::can\+\_\+id}}, \mbox{\hyperlink{daq_8c_source_l00031}{daq\+\_\+param\+\_\+list\+\_\+node\+::can\+\_\+id}}, \mbox{\hyperlink{uvfr__utils_8c_source_l00021}{data\+\_\+size}}, \mbox{\hyperlink{daq_8c_source_l00029}{daq\+\_\+param\+\_\+list\+\_\+node\+::next}}, \mbox{\hyperlink{daq_8c_source_l00038}{daq\+\_\+child\+\_\+task\+::next\+\_\+task}}, \mbox{\hyperlink{daq_8h_source_l00085}{daq\+\_\+msg\+::param}}, \mbox{\hyperlink{daq_8c_source_l00032}{daq\+\_\+param\+\_\+list\+\_\+node\+::param}}, \mbox{\hyperlink{daq_8c_source_l00041}{daq\+\_\+child\+\_\+task\+::param\+\_\+list}}, \mbox{\hyperlink{daq_8c_source_l00040}{daq\+\_\+child\+\_\+task\+::period}}, \mbox{\hyperlink{daq_8h_source_l00087}{daq\+\_\+msg\+::period}}, \mbox{\hyperlink{daq_8c_source_l00034}{daq\+\_\+param\+\_\+list\+\_\+node\+::size}}, \mbox{\hyperlink{daq_8h_source_l00086}{daq\+\_\+msg\+::type}}, and \mbox{\hyperlink{uvfr__utils_8h_source_l00174}{UV\+\_\+\+OK}}.



Referenced by \mbox{\hyperlink{daq_8c_source_l00183}{configure\+Daq\+Sub\+Tasks()}}.

\Hypertarget{daq_8c_a65df75bcd76d421bf28fca5704c8ff95}\index{daq.c@{daq.c}!startDaqSubTasks@{startDaqSubTasks}}
\index{startDaqSubTasks@{startDaqSubTasks}!daq.c@{daq.c}}
\doxysubsubsection{\texorpdfstring{startDaqSubTasks()}{startDaqSubTasks()}}
{\footnotesize\ttfamily \label{daq_8c_a65df75bcd76d421bf28fca5704c8ff95} 
\mbox{\hyperlink{can_8h_aef3770e45bbacbf527fd93dd80eea9b9}{uv\+\_\+status}} start\+Daq\+Sub\+Tasks (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Function that starts up all the subtasks. 



Definition at line \mbox{\hyperlink{daq_8c_source_l00210}{210}} of file \mbox{\hyperlink{daq_8c_source}{daq.\+c}}.



References \mbox{\hyperlink{daq_8c_source_l00046}{curr\+\_\+daq\+\_\+settings}}, \mbox{\hyperlink{daq_8h_source_l00102}{daq\+\_\+loop\+\_\+args\+::daq\+\_\+child\+\_\+priority}}, \mbox{\hyperlink{daq_8c_source_l00441}{daq\+Sub\+Task()}}, \mbox{\hyperlink{daq_8c_source_l00039}{daq\+\_\+child\+\_\+task\+::meta\+\_\+task\+\_\+handle}}, \mbox{\hyperlink{daq_8c_source_l00038}{daq\+\_\+child\+\_\+task\+::next\+\_\+task}}, and \mbox{\hyperlink{uvfr__utils_8h_source_l00174}{UV\+\_\+\+OK}}.



Referenced by \mbox{\hyperlink{daq_8c_source_l00305}{daq\+Master\+Task()}}.

Here is the call graph for this function\+:
% FIG 5
\Hypertarget{daq_8c_ad3997ae047f3e30136b3f2b668c8030a}\index{daq.c@{daq.c}!stopDaqSubTasks@{stopDaqSubTasks}}
\index{stopDaqSubTasks@{stopDaqSubTasks}!daq.c@{daq.c}}
\doxysubsubsection{\texorpdfstring{stopDaqSubTasks()}{stopDaqSubTasks()}}
{\footnotesize\ttfamily \label{daq_8c_ad3997ae047f3e30136b3f2b668c8030a} 
\mbox{\hyperlink{can_8h_aef3770e45bbacbf527fd93dd80eea9b9}{uv\+\_\+status}} stop\+Daq\+Sub\+Tasks (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Function that shuts down the subtasks. 



Definition at line \mbox{\hyperlink{daq_8c_source_l00231}{231}} of file \mbox{\hyperlink{daq_8c_source}{daq.\+c}}.



References \mbox{\hyperlink{daq_8c_source_l00039}{daq\+\_\+child\+\_\+task\+::meta\+\_\+task\+\_\+handle}}, and \mbox{\hyperlink{uvfr__utils_8h_source_l00176}{UV\+\_\+\+ERROR}}.



\doxysubsection{Variable Documentation}
\Hypertarget{daq_8c_a08de9f1889def4ee8d79962e6044bb0f}\index{daq.c@{daq.c}!constant\_zero@{constant\_zero}}
\index{constant\_zero@{constant\_zero}!daq.c@{daq.c}}
\doxysubsubsection{\texorpdfstring{constant\_zero}{constant\_zero}}
{\footnotesize\ttfamily \label{daq_8c_a08de9f1889def4ee8d79962e6044bb0f} 
uint64\+\_\+t constant\+\_\+zero = 0}



Definition at line \mbox{\hyperlink{daq_8c_source_l00016}{16}} of file \mbox{\hyperlink{daq_8c_source}{daq.\+c}}.

\Hypertarget{daq_8c_a2273a53b295e470100af298a0be7d8d7}\index{daq.c@{daq.c}!coolant\_temp\_adc@{coolant\_temp\_adc}}
\index{coolant\_temp\_adc@{coolant\_temp\_adc}!daq.c@{daq.c}}
\doxysubsubsection{\texorpdfstring{coolant\_temp\_adc}{coolant\_temp\_adc}}
{\footnotesize\ttfamily \label{daq_8c_a2273a53b295e470100af298a0be7d8d7} 
volatile uint16\+\_\+t coolant\+\_\+temp\+\_\+adc = 0}



Definition at line \mbox{\hyperlink{daq_8c_source_l00018}{18}} of file \mbox{\hyperlink{daq_8c_source}{daq.\+c}}.



Referenced by \mbox{\hyperlink{daq_8c_source_l00257}{init\+Daq\+Task()}}.

\Hypertarget{daq_8c_a5a9a97f4494923c066b5c4faaaaf8f88}\index{daq.c@{daq.c}!curr\_daq\_settings@{curr\_daq\_settings}}
\index{curr\_daq\_settings@{curr\_daq\_settings}!daq.c@{daq.c}}
\doxysubsubsection{\texorpdfstring{curr\_daq\_settings}{curr\_daq\_settings}}
{\footnotesize\ttfamily \label{daq_8c_a5a9a97f4494923c066b5c4faaaaf8f88} 
\mbox{\hyperlink{structdaq__loop__args}{daq\+\_\+loop\+\_\+args}}\texorpdfstring{$\ast$}{*} curr\+\_\+daq\+\_\+settings = NULL}



Definition at line \mbox{\hyperlink{daq_8c_source_l00046}{46}} of file \mbox{\hyperlink{daq_8c_source}{daq.\+c}}.



Referenced by \mbox{\hyperlink{daq_8c_source_l00183}{configure\+Daq\+Sub\+Tasks()}}, \mbox{\hyperlink{daq_8c_source_l00257}{init\+Daq\+Task()}}, and \mbox{\hyperlink{daq_8c_source_l00210}{start\+Daq\+Sub\+Tasks()}}.

\Hypertarget{daq_8c_a22b4a1eccdbbbf445f1847cc3a49c3e0}\index{daq.c@{daq.c}!default\_daq\_settings@{default\_daq\_settings}}
\index{default\_daq\_settings@{default\_daq\_settings}!daq.c@{daq.c}}
\doxysubsubsection{\texorpdfstring{default\_daq\_settings}{default\_daq\_settings}}
{\footnotesize\ttfamily \label{daq_8c_a22b4a1eccdbbbf445f1847cc3a49c3e0} 
\mbox{\hyperlink{structdaq__loop__args}{daq\+\_\+loop\+\_\+args}} default\+\_\+daq\+\_\+settings}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{=\ \{}
\DoxyCodeLine{\ \ \ \ .total\_params\_logged\ =\ 8,}
\DoxyCodeLine{\ \ \ \ .throttle\_daq\_to\_preserve\_performance\ =\ 1,}
\DoxyCodeLine{\ \ \ \ .minimum\_daq\_period\ =\ 10,}
\DoxyCodeLine{\ \ \ \ .can\_channel\ =\ \mbox{\hyperlink{uvfr__utils_8h_a68cc2bdb140f7959b6090b771f3358a9}{CAN\_BUS\_1}},}
\DoxyCodeLine{\ \ \ \ .daq\_child\_priority\ =\ 1}
\DoxyCodeLine{\}}

\end{DoxyCode}


Definition at line \mbox{\hyperlink{daq_8c_source_l00048}{48}} of file \mbox{\hyperlink{daq_8c_source}{daq.\+c}}.



Referenced by \mbox{\hyperlink{uvfr__settings_8c_source_l00250}{setup\+Default\+Settings()}}, and \mbox{\hyperlink{uvfr__settings_8c_source_l01155}{uv\+Reset\+Flash\+To\+Default()}}.

\Hypertarget{daq_8c_af2240542724a20552b90fafa9642884d}\index{daq.c@{daq.c}!default\_datapoints@{default\_datapoints}}
\index{default\_datapoints@{default\_datapoints}!daq.c@{daq.c}}
\doxysubsubsection{\texorpdfstring{default\_datapoints}{default\_datapoints}}
{\footnotesize\ttfamily \label{daq_8c_af2240542724a20552b90fafa9642884d} 
\mbox{\hyperlink{structdaq__msg}{daq\+\_\+msg}} default\+\_\+datapoints\mbox{[}$\,$\mbox{]}}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{=\{}
\DoxyCodeLine{\ \ \ \ \{.can\_id\ =\ 0x530,}
\DoxyCodeLine{\ \ \ \ .param\ =\ \{\mbox{\hyperlink{daq_8h_a5249d5d3ad44df9d4479b814028469a9a4aa469f8ff609f64a67cb8f94bbae331}{APPS1\_ADC\_VAL}},\mbox{\hyperlink{daq_8h_a5249d5d3ad44df9d4479b814028469a9a649cfa800751dbfadfee50fbb49f8a0c}{APPS2\_ADC\_VAL}},\mbox{\hyperlink{daq_8h_a5249d5d3ad44df9d4479b814028469a9a217d6550cdad0d3eaff0189d269d8929}{BPS1\_ADC\_VAL}},\mbox{\hyperlink{daq_8h_a5249d5d3ad44df9d4479b814028469a9a75e438f4c4f3e2113352eb85475f8fa7}{BPS2\_ADC\_VAL}}\},}
\DoxyCodeLine{\ \ \ \ .period\ =\ 50,}
\DoxyCodeLine{\ \ \ \ .type\ =\ \{\mbox{\hyperlink{uvfr__utils_8h_ac2ad7f431e3446fddcd9b6b9f93c4c14a536b610b4345a500e7eac0aa798d8fe0}{UV\_UINT16}},\mbox{\hyperlink{uvfr__utils_8h_ac2ad7f431e3446fddcd9b6b9f93c4c14a536b610b4345a500e7eac0aa798d8fe0}{UV\_UINT16}},\mbox{\hyperlink{uvfr__utils_8h_ac2ad7f431e3446fddcd9b6b9f93c4c14a536b610b4345a500e7eac0aa798d8fe0}{UV\_UINT16}},\mbox{\hyperlink{uvfr__utils_8h_ac2ad7f431e3446fddcd9b6b9f93c4c14a536b610b4345a500e7eac0aa798d8fe0}{UV\_UINT16}}\}\},}
\DoxyCodeLine{}
\DoxyCodeLine{}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \{.can\_id\ =\ 0x540,}
\DoxyCodeLine{\ \ \ \ .param\ =\ \{\mbox{\hyperlink{daq_8h_a5249d5d3ad44df9d4479b814028469a9a7370a4980da3b06231cacd01246e6382}{VCU\_VEHICLE\_STATE}},\mbox{\hyperlink{daq_8c_aba239cbf28dfdbe0359593717f8705d5}{INV\_DAQ\_P}},\mbox{\hyperlink{daq_8c_aba239cbf28dfdbe0359593717f8705d5}{INV\_DAQ\_P}},\mbox{\hyperlink{daq_8c_aba239cbf28dfdbe0359593717f8705d5}{INV\_DAQ\_P}}\},}
\DoxyCodeLine{\ \ \ \ .period\ =\ 100,}
\DoxyCodeLine{\ \ \ \ .type\ =\ \{\mbox{\hyperlink{uvfr__utils_8h_ac2ad7f431e3446fddcd9b6b9f93c4c14a536b610b4345a500e7eac0aa798d8fe0}{UV\_UINT16}},0,0,0\}\},}
\DoxyCodeLine{}
\DoxyCodeLine{}
\DoxyCodeLine{}
\DoxyCodeLine{}
\DoxyCodeLine{\}}

\end{DoxyCode}


Definition at line \mbox{\hyperlink{daq_8c_source_l00056}{56}} of file \mbox{\hyperlink{daq_8c_source}{daq.\+c}}.



Referenced by \mbox{\hyperlink{uvfr__settings_8c_source_l00250}{setup\+Default\+Settings()}}, and \mbox{\hyperlink{uvfr__settings_8c_source_l01155}{uv\+Reset\+Flash\+To\+Default()}}.

\Hypertarget{daq_8c_a22b804736f5648d52f639b2647d4ed13}\index{daq.c@{daq.c}!hadc1@{hadc1}}
\index{hadc1@{hadc1}!daq.c@{daq.c}}
\doxysubsubsection{\texorpdfstring{hadc1}{hadc1}}
{\footnotesize\ttfamily \label{daq_8c_a22b804736f5648d52f639b2647d4ed13} 
ADC\+\_\+\+Handle\+Type\+Def hadc1}



Definition at line \mbox{\hyperlink{daq_8c_source_l00022}{22}} of file \mbox{\hyperlink{daq_8c_source}{daq.\+c}}.



Referenced by \mbox{\hyperlink{stm32f4xx__it_8c_source_l00213}{ADC\+\_\+\+IRQHandler()}}, \mbox{\hyperlink{main_8c_source_l00295}{HAL\+\_\+\+ADC\+\_\+\+Conv\+Cplt\+Callback()}}, and \mbox{\hyperlink{main_8c_source_l00317}{HAL\+\_\+\+ADC\+\_\+\+Level\+Out\+Of\+Window\+Callback()}}.

\Hypertarget{daq_8c_a0611933f2919b8900cd5e667043747fe}\index{daq.c@{daq.c}!motor\_temp\_adc@{motor\_temp\_adc}}
\index{motor\_temp\_adc@{motor\_temp\_adc}!daq.c@{daq.c}}
\doxysubsubsection{\texorpdfstring{motor\_temp\_adc}{motor\_temp\_adc}}
{\footnotesize\ttfamily \label{daq_8c_a0611933f2919b8900cd5e667043747fe} 
volatile uint16\+\_\+t motor\+\_\+temp\+\_\+adc = 0}



Definition at line \mbox{\hyperlink{daq_8c_source_l00019}{19}} of file \mbox{\hyperlink{daq_8c_source}{daq.\+c}}.



Referenced by \mbox{\hyperlink{daq_8c_source_l00257}{init\+Daq\+Task()}}.

\Hypertarget{daq_8c_a46330ae75c3716f15677e104e8cced32}\index{daq.c@{daq.c}!tmp\_daq\_msg@{tmp\_daq\_msg}}
\index{tmp\_daq\_msg@{tmp\_daq\_msg}!daq.c@{daq.c}}
\doxysubsubsection{\texorpdfstring{tmp\_daq\_msg}{tmp\_daq\_msg}}
{\footnotesize\ttfamily \label{daq_8c_a46330ae75c3716f15677e104e8cced32} 
\mbox{\hyperlink{structuv___c_a_n__msg}{uv\+\_\+\+CAN\+\_\+msg}} tmp\+\_\+daq\+\_\+msg}



Definition at line \mbox{\hyperlink{daq_8c_source_l00240}{240}} of file \mbox{\hyperlink{daq_8c_source}{daq.\+c}}.



Referenced by \mbox{\hyperlink{daq_8c_source_l00257}{init\+Daq\+Task()}}.

