\doxysection{pdu.\+c}
\hypertarget{pdu_8c_source}{}\label{pdu_8c_source}\index{Core/Src/pdu.c@{Core/Src/pdu.c}}
\mbox{\hyperlink{pdu_8c}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00001}00001\ \textcolor{comment}{//\ This\ where\ the\ code\ to\ handle\ switching\ channels\ with\ the\ PDU\ will\ go}}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00002}00002\ \textcolor{comment}{//typedef\ struct\ abstract\_conifer\_channel\ abstract\_conifer\_channel;}}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00003}00003\ }
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00004}00004\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{pdu_8h}{pdu.h}}"{}}}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00005}00005\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{uvfr__utils_8h}{uvfr\_utils.h}}"{}}}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00006}00006\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{can_8h}{can.h}}"{}}}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00007}00007\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{main_8h}{main.h}}"{}}}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00008}00008\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{constants_8h}{constants.h}}"{}}}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00009}00009\ }
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00010}00010\ }
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00011}00011\ }
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00012}\mbox{\hyperlink{pdu_8c_a5e0b76d0cfbe5852aca54c518f3ebfd8}{00012}}\ uint16\_t\ \mbox{\hyperlink{pdu_8c_a5e0b76d0cfbe5852aca54c518f3ebfd8}{read\_5A\_vals}};\ \textcolor{comment}{//What\ the\ PDU\ claims\ its\ 5A\ channels\ are\ up\ to}}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00013}\mbox{\hyperlink{pdu_8c_a5ec56ae805d39218abf3c5b4853bd1bc}{00013}}\ uint16\_t\ \mbox{\hyperlink{pdu_8c_a5ec56ae805d39218abf3c5b4853bd1bc}{set\_5A\_vals}};\ \textcolor{comment}{//What\ the\ intended\ 5A\ channel\ outputs\ are}}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00014}00014\ }
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00015}\mbox{\hyperlink{pdu_8c_a1da857742290329216cb538e70930f23}{00015}}\ uint16\_t\ \mbox{\hyperlink{pdu_8c_a1da857742290329216cb538e70930f23}{read\_20A\_vals}};\ \textcolor{comment}{//What\ the\ PDU\ claims\ its\ 20A\ channels\ are\ up\ to}}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00016}\mbox{\hyperlink{pdu_8c_a3f670253d50011b79a50a97b52623a4e}{00016}}\ uint16\_t\ \mbox{\hyperlink{pdu_8c_a3f670253d50011b79a50a97b52623a4e}{set\_20A\_vals}};\ \textcolor{comment}{//What\ the\ intended\ 20A\ channel\ outputs\ are}}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00017}00017\ }
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00018}\mbox{\hyperlink{pdu_8c_a018ff3186fd2ca7dd9a7825c777252d4}{00018}}\ TickType\_t\ \mbox{\hyperlink{pdu_8c_a018ff3186fd2ca7dd9a7825c777252d4}{pdu\_last\_Rx\_time}};}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00019}\mbox{\hyperlink{pdu_8c_af7f4e4ce3dd3398a53cb24643396f8ec}{00019}}\ \mbox{\hyperlink{structuv___c_a_n__msg}{uv\_CAN\_msg}}\ \mbox{\hyperlink{pdu_8c_af7f4e4ce3dd3398a53cb24643396f8ec}{last\_received\_from\_PDU}};}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00020}00020\ }
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00021}\mbox{\hyperlink{pdu_8c_aeec4d7363e8f081b457d92c49d7c5322}{00021}}\ SemaphoreHandle\_t\ \mbox{\hyperlink{pdu_8c_aeec4d7363e8f081b457d92c49d7c5322}{pdu\_tx\_mutex}}\ =\ NULL;}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00022}00022\ }
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00023}\mbox{\hyperlink{pdu_8c_aaf55cb4c7c83957aad36af8fd38ad0a8}{00023}}\ \mbox{\hyperlink{structuv___c_a_n__msg}{uv\_CAN\_msg}}\ \mbox{\hyperlink{pdu_8c_aaf55cb4c7c83957aad36af8fd38ad0a8}{msg\_to\_PDU}}\ =\ \{}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00024}00024\ \ \ \ \ .flags\ =\ 0x00,}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00025}00025\ \ \ \ \ .dlc\ =\ 1,}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00026}00026\ \ \ \ \ .msg\_id\ =\ 0x710,}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00027}00027\ \ \ \ \ .data\ =\ \{0,0,0,0,0,0,0,0\}}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00028}00028\ \};}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00029}00029\ }
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00030}00030\ }
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00031}\mbox{\hyperlink{pdu_8c_a4be4453fd393a9705e3ce4146cce40c8}{00031}}\ \textcolor{preprocessor}{\#define\ U19\_PDU\_20A\_BIT\ 0b00100000}}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00032}\mbox{\hyperlink{pdu_8c_a847c8eaa8d2029dd5d8b1b782aae2c9b}{00032}}\ \textcolor{preprocessor}{\#define\ U19\_PDU\_EN\_BIT\ \ 0b00010000}}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00033}\mbox{\hyperlink{pdu_8c_a627e824d1da0b03a662b47db524e213c}{00033}}\ \textcolor{preprocessor}{\#define\ HIGHEST\_CH\ 0x28}}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00034}\mbox{\hyperlink{pdu_8c_a5a3ac33c553f70682dc9e1bfe20d2bd5}{00034}}\ \textcolor{preprocessor}{\#define\ FIRST\_20A\_CH\ 0x21}}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00035}00035\ }
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00036}00036\ \textcolor{comment}{//\ PDU\ commands}}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00037}\mbox{\hyperlink{pdu_8h_a3d05c1a1776f19cc1437baf3c93c39e0}{00037}}\ \mbox{\hyperlink{can_8h_aef3770e45bbacbf527fd93dd80eea9b9}{uv\_status}}\ \mbox{\hyperlink{pdu_8c_a5dda8bbdef27d5c2afee8f3d2b706bd1}{u19updatePduChannel}}(\textcolor{keyword}{struct}\ \mbox{\hyperlink{structabstract__conifer__channel}{abstract\_conifer\_channel}}*\ ch\_ptr,\ uint32\_t*\ ecode)\{}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00038}00038\ \ \ \ \ \textcolor{comment}{//assume\ that\ the\ channel\ is\ in\ fact\ in\ use,\ no\ need.}}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00039}00039\ }
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00040}00040\ \ \ \ \ \textcolor{comment}{//This\ PDU\ is\ simply\ a\ dumb\ enable/disable\ signal,\ nothing\ fancy\ going\ on\ here.}}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00041}00041\ \ \ \ \ \textcolor{comment}{//First\ part\ is\ we\ need\ to\ get\ the\ channel.}}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00042}00042\ \ \ \ \ uint8\_t\ ch\ =\ (ch\_ptr-\/>\mbox{\hyperlink{structabstract__conifer__channel_adb5e363930fc0076960d4046c983ea68}{hardware\_mapping}})\&0xFF;}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00043}00043\ \ \ \ \ uint8\_t\ msg\ =\ ch;}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00044}00044\ \ \ \ \ uint8\_t\ en\ =\ 0;}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00045}00045\ }
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00046}00046\ \ \ \ \ \textcolor{comment}{//Bounds\ check\ on\ ch:}}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00047}00047\ \ \ \ \ \textcolor{keywordflow}{if}((ch\ >\ \mbox{\hyperlink{pdu_8c_a627e824d1da0b03a662b47db524e213c}{HIGHEST\_CH}})||(ch\ >\ 0x0F\ \&\&\ ch\ <\ \mbox{\hyperlink{pdu_8c_a5a3ac33c553f70682dc9e1bfe20d2bd5}{FIRST\_20A\_CH}}))\{}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00048}00048\ \ \ \ \ \ \ \ \ \textcolor{comment}{//This\ is\ a\ PDU\ channel\ that\ dont\ exist}}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00049}00049\ \ \ \ \ \ \ \ \ *ecode\ =\ \mbox{\hyperlink{uvfr__conifer_8h_a90a4fb6acd14a5771c4d515a7ff5b3ada711a7bda8e3e2292d599ecfebbb6e696}{CONIFER\_DRV\_INVALID\_HW\_CH\_ID}};}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00050}00050\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00051}00051\ }
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00052}00052\ \ \ \ \ \textcolor{keywordflow}{if}((ch\_ptr-\/>\mbox{\hyperlink{structabstract__conifer__channel_ad14cb76fe2271d8ad0864d7ae25ec65b}{status\_control\_reg}}\ \&\ \mbox{\hyperlink{uvfr__conifer_8h_a56c578223ad7a17a60a23eb446eb233e}{CONIFER\_CH\_EN\_BIT}})\ ==\ \mbox{\hyperlink{uvfr__conifer_8h_a56c578223ad7a17a60a23eb446eb233e}{CONIFER\_CH\_EN\_BIT}})\{}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00053}00053\ \ \ \ \ \ \ \ \ \textcolor{comment}{//Enable}}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00054}00054\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(ch\ \&\ \mbox{\hyperlink{pdu_8c_a4be4453fd393a9705e3ce4146cce40c8}{U19\_PDU\_20A\_BIT}})\{}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00055}00055\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pdu_8c_a3f670253d50011b79a50a97b52623a4e}{set\_20A\_vals}}\ |=\ 0x01U<<(ch\&0x0F);\ \textcolor{comment}{//Indicates\ what\ the\ set\ 20A\ channels\ are}}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00056}00056\ \ \ \ \ \ \ \ \ \}\textcolor{keywordflow}{else}\{}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00057}00057\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pdu_8c_a5ec56ae805d39218abf3c5b4853bd1bc}{set\_5A\_vals}}\ |=\ 0x01U<<ch;}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00058}00058\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00059}00059\ }
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00060}00060\ \ \ \ \ \ \ \ \ en\ =\ 1;\ \textcolor{comment}{//Set\ the\ bit\ on\ the\ msg}}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00061}00061\ \ \ \ \ \}\textcolor{keywordflow}{else}\{}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00062}00062\ \ \ \ \ \ \ \ \ \textcolor{comment}{//Otherwise\ disable}}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00063}00063\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(ch\ \&\ \mbox{\hyperlink{pdu_8c_a4be4453fd393a9705e3ce4146cce40c8}{U19\_PDU\_20A\_BIT}})\{}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00064}00064\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pdu_8c_a3f670253d50011b79a50a97b52623a4e}{set\_20A\_vals}}\ \&=\ \string~(0x01U<<(ch\&0x0F));\ \textcolor{comment}{//Clear\ the\ bit\ because\ we\ really\ dont\ want\ them\ to\ be\ like\ this}}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00065}00065\ \ \ \ \ \ \ \ \ \}\textcolor{keywordflow}{else}\{}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00066}00066\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pdu_8c_a5ec56ae805d39218abf3c5b4853bd1bc}{set\_5A\_vals}}\ \&=\ \string~(0x01U<<ch);}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00067}00067\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00068}00068\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00069}00069\ }
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00070}00070\ \ \ \ \ \textcolor{comment}{//Prevent\ the\ channel\ from\ turning\ on\ if\ load\ shedding\ is\ currently\ active}}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00071}00071\ \ \ \ \ \textcolor{keywordflow}{if}(ch\_ptr-\/>\mbox{\hyperlink{structabstract__conifer__channel_ad14cb76fe2271d8ad0864d7ae25ec65b}{status\_control\_reg}}\&(\mbox{\hyperlink{uvfr__conifer_8h_a7148d38b3ab27a38dfd4ae9d52802ff0}{CONIFER\_CH\_LS\_ACTIVE}}|\mbox{\hyperlink{uvfr__conifer_8h_aedd8818b5d30e875593cdba02d74304d}{CONIFER\_CH\_FLT\_BIT}}))\{}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00072}00072\ \ \ \ \ \ \ \ \ en\ =\ 0;}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00073}00073\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00074}00074\ }
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00075}00075\ \ \ \ \ \textcolor{keywordflow}{if}(en)\{}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00076}00076\ \ \ \ \ \ \ \ \ msg\ |=\ \mbox{\hyperlink{pdu_8c_a847c8eaa8d2029dd5d8b1b782aae2c9b}{U19\_PDU\_EN\_BIT}};}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00077}00077\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00078}00078\ }
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00079}00079\ \ \ \ \ \mbox{\hyperlink{can_8h_aef3770e45bbacbf527fd93dd80eea9b9}{uv\_status}}\ retval;}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00080}00080\ }
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00081}00081\ \ \ \ \ \mbox{\hyperlink{pdu_8c_aaf55cb4c7c83957aad36af8fd38ad0a8}{msg\_to\_PDU}}.\mbox{\hyperlink{structuv___c_a_n__msg_aec63cc112176da7895d0cfc8b32e6935}{data}}[0]\ =\ msg;}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00082}00082\ \ \ \ \ \textcolor{keywordflow}{if}(xSemaphoreTake(\mbox{\hyperlink{pdu_8c_aeec4d7363e8f081b457d92c49d7c5322}{pdu\_tx\_mutex}},2)\ ==\ pdTRUE)\{}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00083}00083\ \ \ \ \ \ \ \ \ \textcolor{comment}{//handle\ error\ here\ please\ :)}}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00084}00084\ \ \ \ \ \ \ \ \ retval\ =\ \ \mbox{\hyperlink{group__uvfr__can__api_ga62414944c3b631f57fdd08e467bcf5a4}{uvSendCanMSG}}(\&\mbox{\hyperlink{pdu_8c_aaf55cb4c7c83957aad36af8fd38ad0a8}{msg\_to\_PDU}});\ \textcolor{comment}{//Send\ the\ message\ to\ the\ PDU}}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00085}00085\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(xSemaphoreGive(\mbox{\hyperlink{pdu_8c_aeec4d7363e8f081b457d92c49d7c5322}{pdu\_tx\_mutex}})!=pdTRUE)\{}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00086}00086\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//Unable\ to\ release\ mutex,\ next\ PDU\ message\ will\ not\ correctly\ send.\ Ohh\ god.}}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00087}00087\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//Probably\ one\ of\ the\ worst\ situations\ one\ could\ possibly\ end\ up\ in\ from\ a\ safety\ standpoint\ ngl.}}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00088}00088\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00089}00089\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00090}00090\ }
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00091}00091\ }
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00092}00092\ \ \ \ \ \textcolor{keywordflow}{if}(retval\ !=\ \mbox{\hyperlink{uvfr__utils_8h_a71c52c44be11d0980910401cb9b5fb9ea93b7493f003cb72e7b6138f2794b58e9}{UV\_OK}})\{}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00093}00093\ \ \ \ \ \ \ \ \ \textcolor{comment}{//UHH\ OHH}}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00094}00094\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ retval;}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00095}00095\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00096}00096\ }
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00097}00097\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{uvfr__utils_8h_a71c52c44be11d0980910401cb9b5fb9ea93b7493f003cb72e7b6138f2794b58e9}{UV\_OK}};}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00098}00098\ \}}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00099}00099\ }
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00100}\mbox{\hyperlink{pdu_8h_a1fe919a957b7055fcd240d738195d529}{00100}}\ \mbox{\hyperlink{can_8h_aef3770e45bbacbf527fd93dd80eea9b9}{uv\_status}}\ \mbox{\hyperlink{pdu_8c_a1fe919a957b7055fcd240d738195d529}{initPDU}}(uint32\_t*\ ecode)\{}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00101}00101\ \ \ \ \ \mbox{\hyperlink{pdu_8c_aeec4d7363e8f081b457d92c49d7c5322}{pdu\_tx\_mutex}}\ =\ xSemaphoreCreateMutex();}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00102}00102\ }
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00103}00103\ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{pdu_8c_aeec4d7363e8f081b457d92c49d7c5322}{pdu\_tx\_mutex}}\ ==\ NULL)\{}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00104}00104\ \ \ \ \ \ \ \ \ \textcolor{comment}{//UHH\ OHH}}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00105}00105\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(ecode!=\ NULL)\{}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00106}00106\ \ \ \ \ \ \ \ \ \ \ \ \ *ecode\ =\ \mbox{\hyperlink{uvfr__conifer_8h_a90a4fb6acd14a5771c4d515a7ff5b3adaad86f5baeba4529599e349c3f3c56745}{CONIFER\_DRV\_INIT\_ERR}};}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00107}00107\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00108}00108\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{uvfr__utils_8h_a71c52c44be11d0980910401cb9b5fb9ea480ef4e56d17703f0629bfe1e06bc4f0}{UV\_ERROR}};}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00109}00109\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00110}00110\ }
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00111}00111\ }
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00112}00112\ \ \ \ \ \mbox{\hyperlink{pdu_8c_aaf55cb4c7c83957aad36af8fd38ad0a8}{msg\_to\_PDU}}.\mbox{\hyperlink{structuv___c_a_n__msg_a3a3fdc7fed06a631fefa58ea44052d8d}{flags}}\ =\ \mbox{\hyperlink{uvfr__conifer_8h_a5a8b2a4b56cf0bc4a64f3948d3e23519}{conifer\_params}}-\/>pdu\_bus;}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00113}00113\ }
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00114}00114\ \ \ \ \ vTaskDelay(10);\ \textcolor{comment}{//Pretend\ to\ be\ doing\ something\ for\ now}}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00115}00115\ }
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00116}00116\ }
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00117}00117\ }
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00118}00118\ }
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00119}00119\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{uvfr__utils_8h_a71c52c44be11d0980910401cb9b5fb9ea93b7493f003cb72e7b6138f2794b58e9}{UV\_OK}};}
\DoxyCodeLine{\Hypertarget{pdu_8c_source_l00120}00120\ \}}

\end{DoxyCode}
