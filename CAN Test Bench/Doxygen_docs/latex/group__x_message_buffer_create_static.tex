\doxysubsection{x\+Message\+Buffer\+Create\+Static}
\hypertarget{group__x_message_buffer_create_static}{}\label{group__x_message_buffer_create_static}\index{xMessageBufferCreateStatic@{xMessageBufferCreateStatic}}
\doxylink{message__buffer_8h}{message\+\_\+buffer.\+h}

Message\+Buffer\+Handle\+\_\+t \doxylink{message__buffer_8h_acc84f4a15dbd39ecbad35f7337e78b2c}{x\+Message\+Buffer\+Create\+Static( size\+\_\+t x\+Buffer\+Size\+Bytes,                                                   uint8\+\_\+t \texorpdfstring{$\ast$}{*}puc\+Message\+Buffer\+Storage\+Area,                                                   Static\+Message\+Buffer\+\_\+t \texorpdfstring{$\ast$}{*}px\+Static\+Message\+Buffer )};

Creates a new message buffer using statically allocated memory. See \doxylink{message__buffer_8h_a2959cd0e3d2bd20d46908e5c9872be36}{x\+Message\+Buffer\+Create()} for a version that uses dynamically allocated memory.


\begin{DoxyParams}{Parameters}
{\em x\+Buffer\+Size\+Bytes} & The size, in bytes, of the buffer pointed to by the puc\+Message\+Buffer\+Storage\+Area parameter. When a message is written to the message buffer an additional sizeof( size\+\_\+t ) bytes are also written to store the message\textquotesingle{}s length. sizeof( size\+\_\+t ) is typically 4 bytes on a 32-\/bit architecture, so on most 32-\/bit architecture a 10 byte message will take up 14 bytes of message buffer space. The maximum number of bytes that can be stored in the message buffer is actually (x\+Buffer\+Size\+Bytes -\/ 1).\\
\hline
{\em puc\+Message\+Buffer\+Storage\+Area} & Must point to a uint8\+\_\+t array that is at least x\+Buffer\+Size\+Bytes + 1 big. This is the array to which messages are copied when they are written to the message buffer.\\
\hline
{\em px\+Static\+Message\+Buffer} & Must point to a variable of type Static\+Message\+Buffer\+\_\+t, which will be used to hold the message buffer\textquotesingle{}s data structure.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
If the message buffer is created successfully then a handle to the created message buffer is returned. If either puc\+Message\+Buffer\+Storage\+Area or px\+Staticmessage\+Buffer are NULL then NULL is returned.
\end{DoxyReturn}
Example use\+:

Used to dimension the array used to hold the messages. The available space will actually be one less than this, so 999. \#define STORAGE\+\_\+\+SIZE\+\_\+\+BYTES 1000

Defines the memory that will actually hold the messages within the message buffer. static uint8\+\_\+t uc\+Storage\+Buffer\mbox{[} STORAGE\+\_\+\+SIZE\+\_\+\+BYTES \mbox{]};

The variable used to hold the message buffer structure. Static\+Message\+Buffer\+\_\+t x\+Message\+Buffer\+Struct;

void My\+Function( void ) \{ Message\+Buffer\+Handle\+\_\+t x\+Message\+Buffer; \begin{DoxyVerb}xMessageBuffer = xMessageBufferCreateStatic( sizeof( ucBufferStorage ),
                                             ucBufferStorage,
                                             &xMessageBufferStruct );
\end{DoxyVerb}


As neither the puc\+Message\+Buffer\+Storage\+Area or px\+Static\+Message\+Buffer parameters were NULL, x\+Message\+Buffer will not be NULL, and can be used to reference the created message buffer in other message buffer API calls.

Other code that uses the message buffer can go here. \}