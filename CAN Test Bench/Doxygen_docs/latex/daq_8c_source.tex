\doxysection{daq.\+c}
\hypertarget{daq_8c_source}{}\label{daq_8c_source}\index{Core/Src/daq.c@{Core/Src/daq.c}}
\mbox{\hyperlink{daq_8c}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00001}\mbox{\hyperlink{daq_8c_a5a6490a76926af0287e58c4b1af260bd}{00001}}\ \textcolor{preprocessor}{\#define\ \_SRC\_UVFR\_DAQ}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00002}00002\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00003}00003\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00004}00004\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{uvfr__utils_8h}{uvfr\_utils.h}}"{}}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00005}00005\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{daq_8h}{daq.h}}"{}}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00006}00006\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{stm32f4xx__hal__conf_8h}{stm32f4xx\_hal\_conf.h}}"{}}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00007}00007\ \textcolor{preprocessor}{\#include\ "{}stm32f407xx.h"{}}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00008}00008\ \textcolor{preprocessor}{\#include\ "{}stm32f4xx\_hal.h"{}}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00009}00009\ \textcolor{preprocessor}{\#include\ "{}stm32f4xx\_hal\_adc.h"{}}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00010}00010\ \textcolor{preprocessor}{\#include\ "{}stm32f4xx\_hal\_rcc.h"{}}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00011}00011\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00012}00012\ \textcolor{comment}{//\#define\ daq\_settings\ current\_vehicle\_settings-\/>daq\_settings}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00013}00013\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00014}00014\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00015}\mbox{\hyperlink{daq_8c_a2273a53b295e470100af298a0be7d8d7}{00015}}\ \textcolor{keyword}{volatile}\ uint16\_t\ \mbox{\hyperlink{daq_8c_a2273a53b295e470100af298a0be7d8d7}{coolant\_temp\_adc}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00016}\mbox{\hyperlink{daq_8c_a0611933f2919b8900cd5e667043747fe}{00016}}\ \textcolor{keyword}{volatile}\ uint16\_t\ \mbox{\hyperlink{daq_8c_a0611933f2919b8900cd5e667043747fe}{motor\_temp\_adc}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00017}00017\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00018}00018\ \textcolor{comment}{//configuring\ ADCs}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00019}\mbox{\hyperlink{daq_8c_a22b804736f5648d52f639b2647d4ed13}{00019}}\ ADC\_HandleTypeDef\ \mbox{\hyperlink{daq_8c_a22b804736f5648d52f639b2647d4ed13}{hadc1}};}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00020}00020\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00021}00021\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00022}00022\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00023}00023\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00024}00024\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00025}\mbox{\hyperlink{structdaq__param__list__node}{00025}}\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structdaq__param__list__node}{daq\_param\_list\_node}}\{}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00026}\mbox{\hyperlink{structdaq__param__list__node_aa70718d4adff315eb53a8c00e4b1021a}{00026}}\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structdaq__param__list__node}{daq\_param\_list\_node}}*\ \mbox{\hyperlink{structdaq__param__list__node_aa70718d4adff315eb53a8c00e4b1021a}{next}};}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00027}00027\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00028}\mbox{\hyperlink{structdaq__param__list__node_a6b52773cafc7e69fdb4eca2d64a2fab3}{00028}}\ \ \ \ \ uint32\_t\ \mbox{\hyperlink{structdaq__param__list__node_a6b52773cafc7e69fdb4eca2d64a2fab3}{can\_id}};}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00029}\mbox{\hyperlink{structdaq__param__list__node_a4a500221ca5a1327ac953045d1cb6d5e}{00029}}\ \ \ \ \ uint16\_t\ \mbox{\hyperlink{structdaq__param__list__node_a4a500221ca5a1327ac953045d1cb6d5e}{param}};}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00030}00030\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00031}\mbox{\hyperlink{structdaq__param__list__node_a4f12dbd7428c303f9b679ad5dfa1b790}{00031}}\ \ \ \ \ uint8\_t\ \mbox{\hyperlink{structdaq__param__list__node_a4f12dbd7428c303f9b679ad5dfa1b790}{size}};}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00032}\mbox{\hyperlink{daq_8c_a4a7e5c4a5e65c315010bab902f2268a6}{00032}}\ \}\mbox{\hyperlink{daq_8c_a4a7e5c4a5e65c315010bab902f2268a6}{daq\_param\_list\_node}};}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00033}00033\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00034}\mbox{\hyperlink{structdaq__child__task}{00034}}\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structdaq__child__task}{daq\_child\_task}}\{}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00035}\mbox{\hyperlink{structdaq__child__task_a1c1a861279f70722384c45e9a62eecee}{00035}}\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structdaq__child__task}{daq\_child\_task}}*\ \mbox{\hyperlink{structdaq__child__task_a1c1a861279f70722384c45e9a62eecee}{next\_task}};}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00036}\mbox{\hyperlink{structdaq__child__task_aeb649c4b5047ed12107eea04fb68042e}{00036}}\ \ \ \ \ \mbox{\hyperlink{structtsk_task_control_block}{TaskHandle\_t}}\ \mbox{\hyperlink{structdaq__child__task_aeb649c4b5047ed12107eea04fb68042e}{meta\_task\_handle}};}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00037}\mbox{\hyperlink{structdaq__child__task_ada97dc181bb6a3919f978fb17431d336}{00037}}\ \ \ \ \ uint32\_t\ \mbox{\hyperlink{structdaq__child__task_ada97dc181bb6a3919f978fb17431d336}{period}};}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00038}\mbox{\hyperlink{structdaq__child__task_ab58febeab8b66376a3b3520e9cff950f}{00038}}\ \ \ \ \ \mbox{\hyperlink{structdaq__param__list__node}{daq\_param\_list\_node}}*\ \mbox{\hyperlink{structdaq__child__task_ab58febeab8b66376a3b3520e9cff950f}{param\_list}};}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00039}00039\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00040}00040\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00041}\mbox{\hyperlink{daq_8c_a2104fed000d8cb392baf5d14e06193c1}{00041}}\ \}\mbox{\hyperlink{daq_8c_a2104fed000d8cb392baf5d14e06193c1}{daq\_child\_task}};}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00042}00042\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00043}\mbox{\hyperlink{daq_8c_a5a9a97f4494923c066b5c4faaaaf8f88}{00043}}\ \mbox{\hyperlink{structdaq__loop__args}{daq\_loop\_args}}*\ \mbox{\hyperlink{daq_8c_a5a9a97f4494923c066b5c4faaaaf8f88}{curr\_daq\_settings}}\ =\ NULL;}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00044}00044\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00045}\mbox{\hyperlink{daq_8c_a22b4a1eccdbbbf445f1847cc3a49c3e0}{00045}}\ \mbox{\hyperlink{structdaq__loop__args}{daq\_loop\_args}}\ \mbox{\hyperlink{daq_8c_a22b4a1eccdbbbf445f1847cc3a49c3e0}{default\_daq\_settings}}\ =\ \{}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00046}00046\ \ \ \ \ .total\_params\_logged\ =\ 8,}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00047}00047\ \ \ \ \ .throttle\_daq\_to\_preserve\_performance\ =\ 1,}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00048}00048\ \ \ \ \ .minimum\_daq\_period\ =\ 10,}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00049}00049\ \ \ \ \ .can\_channel\ =\ \mbox{\hyperlink{uvfr__utils_8h_a68cc2bdb140f7959b6090b771f3358a9}{CAN\_BUS\_1}},}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00050}00050\ \ \ \ \ .daq\_child\_priority\ =\ 1}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00051}00051\ \};}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00052}00052\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00053}\mbox{\hyperlink{daq_8c_af5ab2cd7ec858145d49d4e585e4bef94}{00053}}\ \mbox{\hyperlink{structdaq__datapoint}{daq\_datapoint}}\ \mbox{\hyperlink{daq_8c_af5ab2cd7ec858145d49d4e585e4bef94}{default\_datapoints}}[]\ =\{}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00054}00054\ \ \ \ \ \{.can\_id\ =\ 0x530,}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00055}00055\ \ \ \ \ .param\ =\ \mbox{\hyperlink{daq_8h_a5249d5d3ad44df9d4479b814028469a9a4aa469f8ff609f64a67cb8f94bbae331}{APPS1\_ADC\_VAL}},}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00056}00056\ \ \ \ \ .period\ =\ 50,}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00057}00057\ \ \ \ \ .type\ =\ \mbox{\hyperlink{uvfr__utils_8h_ac2ad7f431e3446fddcd9b6b9f93c4c14a536b610b4345a500e7eac0aa798d8fe0}{UV\_UINT16}}\},}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00058}00058\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00059}00059\ \ \ \ \ \{.can\_id\ =\ 0x531,}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00060}00060\ \ \ \ \ .param\ =\ \mbox{\hyperlink{daq_8h_a5249d5d3ad44df9d4479b814028469a9a649cfa800751dbfadfee50fbb49f8a0c}{APPS2\_ADC\_VAL}},}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00061}00061\ \ \ \ \ .period\ =\ 50,}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00062}00062\ \ \ \ \ .type\ =\ \mbox{\hyperlink{uvfr__utils_8h_ac2ad7f431e3446fddcd9b6b9f93c4c14a536b610b4345a500e7eac0aa798d8fe0}{UV\_UINT16}}\},}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00063}00063\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00064}00064\ \ \ \ \ \{.can\_id\ =\ 0x532,}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00065}00065\ \ \ \ \ .param\ =\ \mbox{\hyperlink{daq_8h_a5249d5d3ad44df9d4479b814028469a9a217d6550cdad0d3eaff0189d269d8929}{BPS1\_ADC\_VAL}},}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00066}00066\ \ \ \ \ .period\ =\ 50,}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00067}00067\ \ \ \ \ .type\ =\ \mbox{\hyperlink{uvfr__utils_8h_ac2ad7f431e3446fddcd9b6b9f93c4c14a536b610b4345a500e7eac0aa798d8fe0}{UV\_UINT16}}\},}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00068}00068\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00069}00069\ \ \ \ \ \{.can\_id\ =\ 0x533,}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00070}00070\ \ \ \ \ .param\ =\ \mbox{\hyperlink{daq_8h_a5249d5d3ad44df9d4479b814028469a9a75e438f4c4f3e2113352eb85475f8fa7}{BPS2\_ADC\_VAL}},}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00071}00071\ \ \ \ \ .period\ =\ 50,}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00072}00072\ \ \ \ \ .type\ =\ \mbox{\hyperlink{uvfr__utils_8h_ac2ad7f431e3446fddcd9b6b9f93c4c14a536b610b4345a500e7eac0aa798d8fe0}{UV\_UINT16}}\},}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00073}00073\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00074}00074\ \ \ \ \ \{.can\_id\ =\ 0x540,}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00075}00075\ \ \ \ \ .param\ =\ \mbox{\hyperlink{daq_8h_a5249d5d3ad44df9d4479b814028469a9a7370a4980da3b06231cacd01246e6382}{VCU\_VEHICLE\_STATE}},}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00076}00076\ \ \ \ \ .period\ =\ 100,}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00077}00077\ \ \ \ \ .type\ =\ \mbox{\hyperlink{uvfr__utils_8h_ac2ad7f431e3446fddcd9b6b9f93c4c14a536b610b4345a500e7eac0aa798d8fe0}{UV\_UINT16}}\},}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00078}00078\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00079}00079\ \ \ \ \ \{.can\_id\ =\ 0x541,}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00080}00080\ \ \ \ \ .param\ =\ \mbox{\hyperlink{daq_8h_a5249d5d3ad44df9d4479b814028469a9a0e0864ffb7986f19129bc6b59a5fa77b}{VCU\_ERROR\_BITFIELD1}},}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00081}00081\ \ \ \ \ .period\ =\ 100,}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00082}00082\ \ \ \ \ .type\ =\ \mbox{\hyperlink{uvfr__utils_8h_ac2ad7f431e3446fddcd9b6b9f93c4c14ad3597a26fcf0676a97a4484f5093b0b0}{UV\_UINT32}}\},}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00083}00083\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00084}00084\ \ \ \ \ \{.can\_id\ =\ 0x542,}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00085}00085\ \ \ \ \ .param\ =\ \mbox{\hyperlink{daq_8h_a5249d5d3ad44df9d4479b814028469a9acdcc0525deb76aea20f6a5239d32312d}{VCU\_ERROR\_BITFIELD2}},}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00086}00086\ \ \ \ \ .period\ =\ 100,}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00087}00087\ \ \ \ \ .type\ =\ \mbox{\hyperlink{uvfr__utils_8h_ac2ad7f431e3446fddcd9b6b9f93c4c14ad3597a26fcf0676a97a4484f5093b0b0}{UV\_UINT32}}\},}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00088}00088\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00089}00089\ \ \ \ \ \{.can\_id\ =\ 0x543,}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00090}00090\ \ \ \ \ .param\ =\ \mbox{\hyperlink{daq_8h_a5249d5d3ad44df9d4479b814028469a9a3515cf175fd12745ba64715a44137958}{VCU\_ERROR\_BITFIELD3}},}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00091}00091\ \ \ \ \ .period\ =\ 100,}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00092}00092\ \ \ \ \ .type\ =\ \mbox{\hyperlink{uvfr__utils_8h_ac2ad7f431e3446fddcd9b6b9f93c4c14ad3597a26fcf0676a97a4484f5093b0b0}{UV\_UINT32}}\},}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00093}00093\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00094}00094\ \ \ \ \ \{.can\_id\ =\ 0x544,}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00095}00095\ \ \ \ \ .param\ =\ \mbox{\hyperlink{daq_8h_a5249d5d3ad44df9d4479b814028469a9a3a9f7ef2405971218360d917a12802a3}{VCU\_ERROR\_BITFIELD4}},}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00096}00096\ \ \ \ \ .period\ =\ 100,}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00097}00097\ \ \ \ \ .type\ =\ \mbox{\hyperlink{uvfr__utils_8h_ac2ad7f431e3446fddcd9b6b9f93c4c14ad3597a26fcf0676a97a4484f5093b0b0}{UV\_UINT32}}\},}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00098}00098\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00099}00099\ \ \ \ \ \{.can\_id\ =\ 0x545,}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00100}00100\ \ \ \ \ .param\ =\ \mbox{\hyperlink{daq_8h_a5249d5d3ad44df9d4479b814028469a9a5bdd2cd7badbaa890b54c82af7da4035}{COOLANT\_TEMP\_ADC}},}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00101}00101\ \ \ \ \ .period\ =\ 50,}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00102}00102\ \ \ \ \ .type\ =\ \mbox{\hyperlink{uvfr__utils_8h_ac2ad7f431e3446fddcd9b6b9f93c4c14a536b610b4345a500e7eac0aa798d8fe0}{UV\_UINT16}}\},}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00103}00103\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00104}00104\ \ \ \ \ \{.can\_id\ =\ 0x546,}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00105}00105\ \ \ \ \ .param\ =\ \mbox{\hyperlink{daq_8h_a5249d5d3ad44df9d4479b814028469a9a6e2e0d55959021b3a1926482664a3e03}{MOTOR\_TEMP\_ADC}},}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00106}00106\ \ \ \ \ .period\ =\ 50,}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00107}00107\ \ \ \ \ .type\ =\ \mbox{\hyperlink{uvfr__utils_8h_ac2ad7f431e3446fddcd9b6b9f93c4c14a536b610b4345a500e7eac0aa798d8fe0}{UV\_UINT16}}\},}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00108}00108\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00109}00109\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00110}00110\ \};}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00111}00111\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00112}\mbox{\hyperlink{daq_8c_aeed531c2be2a5177eebeaacd47c04526}{00112}}\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}*\ \mbox{\hyperlink{daq_8c_aeed531c2be2a5177eebeaacd47c04526}{param\_ptrs}}[\mbox{\hyperlink{daq_8h_a5249d5d3ad44df9d4479b814028469a9ab17c72af1b52d361cceed996a9cbc502}{MAX\_LOGGABLE\_PARAMS}}];}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00113}00113\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00114}\mbox{\hyperlink{daq_8c_a912bd9ed0555d1bedc46ec216962c5f1}{00114}}\ \textcolor{keyword}{static}\ \mbox{\hyperlink{structdaq__child__task}{daq\_child\_task}}*\ \mbox{\hyperlink{daq_8c_a912bd9ed0555d1bedc46ec216962c5f1}{daq\_tlist}}\ =\ NULL;}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00115}00115\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00116}\mbox{\hyperlink{daq_8c_ad6cbbc8d3571452db9a10c35551f721e}{00116}}\ \textcolor{keyword}{static}\ \mbox{\hyperlink{structdaq__datapoint}{daq\_datapoint}}*\ \mbox{\hyperlink{daq_8c_ad6cbbc8d3571452db9a10c35551f721e}{datapoints}}\ =\ NULL;}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00117}00117\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00118}\mbox{\hyperlink{daq_8c_a463311a3d81da8e08c8c9c78d447fc59}{00118}}\ \textcolor{keyword}{static}\ \mbox{\hyperlink{structdaq__param__list__node}{daq\_param\_list\_node}}*\ \mbox{\hyperlink{daq_8c_a463311a3d81da8e08c8c9c78d447fc59}{param\_bank}}\ =\ NULL;}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00119}00119\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00120}00120\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{daq_8c_a740f6299f5ce19d6d94d148e13231dd9}{daqSubTask}}(\textcolor{keywordtype}{void}*\ args);}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00121}00121\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00125}\mbox{\hyperlink{daq_8h_a56ca1193de01115c27ceb3768994017f}{00125}}\ \mbox{\hyperlink{can_8h_aef3770e45bbacbf527fd93dd80eea9b9}{uv\_status}}\ \mbox{\hyperlink{daq_8c_a56ca1193de01115c27ceb3768994017f}{associateDaqParamWithVar}}(uint16\_t\ paramID,\ \textcolor{keywordtype}{void}*\ var)\{}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00126}00126\ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{uvfr__utils_8h_a0186c036688c7852cf0ceaee96b343a3}{uvIsPTRValid}}(var)!=\mbox{\hyperlink{uvfr__utils_8h_a71c52c44be11d0980910401cb9b5fb9ea93b7493f003cb72e7b6138f2794b58e9}{UV\_OK}})\{}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00127}00127\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{uvfr__utils_8h_a71c52c44be11d0980910401cb9b5fb9ea480ef4e56d17703f0629bfe1e06bc4f0}{UV\_ERROR}};}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00128}00128\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00129}00129\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00130}00130\ \ \ \ \ \textcolor{keywordflow}{if}(paramID\ >=\ \mbox{\hyperlink{daq_8h_a5249d5d3ad44df9d4479b814028469a9ab17c72af1b52d361cceed996a9cbc502}{MAX\_LOGGABLE\_PARAMS}})\{}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00131}00131\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{uvfr__utils_8h_a71c52c44be11d0980910401cb9b5fb9ea480ef4e56d17703f0629bfe1e06bc4f0}{UV\_ERROR}};}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00132}00132\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00133}00133\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00134}00134\ \ \ \ \ \mbox{\hyperlink{daq_8c_aeed531c2be2a5177eebeaacd47c04526}{param\_ptrs}}[paramID]\ =\ var;}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00135}00135\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00136}00136\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{uvfr__utils_8h_a71c52c44be11d0980910401cb9b5fb9ea93b7493f003cb72e7b6138f2794b58e9}{UV\_OK}};}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00137}00137\ \}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00138}00138\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00142}\mbox{\hyperlink{daq_8c_adcd689b5d7e750a2970e1f9e05c16c55}{00142}}\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{daq_8c_adcd689b5d7e750a2970e1f9e05c16c55}{insertParamToParamList}}(\mbox{\hyperlink{structdaq__param__list__node}{daq\_param\_list\_node}}*\ node,\ \mbox{\hyperlink{structdaq__param__list__node}{daq\_param\_list\_node}}**\ list)\{}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00143}00143\ \ \ \ \ \textcolor{keywordflow}{if}(*list\ ==\ NULL)\{}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00144}00144\ \ \ \ \ \ \ \ \ *list\ =\ node;}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00145}00145\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00146}00146\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00147}00147\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00148}00148\ \ \ \ \ \mbox{\hyperlink{structdaq__param__list__node}{daq\_param\_list\_node}}*\ tmp\ =\ *list;\ \textcolor{comment}{//Sets\ a\ temporary\ var\ as\ the\ first\ list\ entry}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00149}00149\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00150}00150\ \ \ \ \ \textcolor{keywordflow}{while}(tmp-\/>\mbox{\hyperlink{structdaq__param__list__node_aa70718d4adff315eb53a8c00e4b1021a}{next}}\ !=\ NULL)\{}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00151}00151\ \ \ \ \ \ \ \ \ tmp\ =\ tmp-\/>\mbox{\hyperlink{structdaq__param__list__node_aa70718d4adff315eb53a8c00e4b1021a}{next}};}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00152}00152\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00153}00153\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00154}00154\ \ \ \ \ \textcolor{comment}{//Now\ this\ is\ a\ situation\ where\ tmp-\/>next\ MUST\ be\ NULL}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00155}00155\ \ \ \ \ tmp-\/>\mbox{\hyperlink{structdaq__param__list__node_aa70718d4adff315eb53a8c00e4b1021a}{next}}\ =\ node;\ \textcolor{comment}{//\ Set\ it's\ next\ as\ a\ node}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00156}00156\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00157}00157\ \}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00158}00158\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00162}\mbox{\hyperlink{daq_8c_ab60ac31cdb244a3123d9d014d9019b2c}{00162}}\ \mbox{\hyperlink{can_8h_aef3770e45bbacbf527fd93dd80eea9b9}{uv\_status}}\ \mbox{\hyperlink{daq_8c_ab60ac31cdb244a3123d9d014d9019b2c}{insertParamToRegister}}(\mbox{\hyperlink{structdaq__param__list__node}{daq\_param\_list\_node}}*\ node,\ \mbox{\hyperlink{structdaq__datapoint}{daq\_datapoint}}*\ datapoint)\{}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00163}00163\ \ \ \ \ \textcolor{comment}{//Step\ 1:\ find\ which\ task\ this\ will\ be\ assigned\ to.\ If\ no\ tasks\ have\ been\ created\ yet,\ then\ create\ them\ lol}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00164}00164\ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{daq_8c_a912bd9ed0555d1bedc46ec216962c5f1}{daq\_tlist}}\ ==\ NULL)\{}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00165}00165\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{daq_8c_a912bd9ed0555d1bedc46ec216962c5f1}{daq\_tlist}}\ =\ uvMalloc(\textcolor{keyword}{sizeof}(\mbox{\hyperlink{structdaq__child__task}{daq\_child\_task}}));}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00166}00166\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00167}00167\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{daq_8c_a912bd9ed0555d1bedc46ec216962c5f1}{daq\_tlist}}\ ==\ NULL)\{}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00168}00168\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//Oopsies}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00169}00169\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00170}00170\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00171}00171\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{daq_8c_a912bd9ed0555d1bedc46ec216962c5f1}{daq\_tlist}}-\/>\mbox{\hyperlink{structdaq__child__task_ada97dc181bb6a3919f978fb17431d336}{period}}\ =\ datapoint-\/>\mbox{\hyperlink{structdaq__datapoint_a8f1ff0b0cde6cc45079cd85c764b2ebe}{period}};}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00172}00172\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{daq_8c_a912bd9ed0555d1bedc46ec216962c5f1}{daq\_tlist}}-\/>\mbox{\hyperlink{structdaq__child__task_a1c1a861279f70722384c45e9a62eecee}{next\_task}}\ =\ NULL;}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00173}00173\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{daq_8c_a912bd9ed0555d1bedc46ec216962c5f1}{daq\_tlist}}-\/>\mbox{\hyperlink{structdaq__child__task_ab58febeab8b66376a3b3520e9cff950f}{param\_list}}\ =\ NULL;}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00174}00174\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00175}00175\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00176}00176\ \ \ \ \ \mbox{\hyperlink{structdaq__child__task}{daq\_child\_task}}*\ list\_tmp\ =\ \mbox{\hyperlink{daq_8c_a912bd9ed0555d1bedc46ec216962c5f1}{daq\_tlist}};}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00177}00177\ \ \ \ \ node-\/>\mbox{\hyperlink{structdaq__param__list__node_a6b52773cafc7e69fdb4eca2d64a2fab3}{can\_id}}\ =\ datapoint-\/>\mbox{\hyperlink{structdaq__datapoint_aa58405f37b6a17c09e4f112d35671e2b}{can\_id}};\ \textcolor{comment}{//Ensure\ that\ the\ daq\_node\ has\ the\ needed\ params}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00178}00178\ \ \ \ \ node-\/>\mbox{\hyperlink{structdaq__param__list__node_a4a500221ca5a1327ac953045d1cb6d5e}{param}}\ =\ datapoint-\/>\mbox{\hyperlink{structdaq__datapoint_aef9003d6af949de34d576de6a1eb9fc2}{param}};}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00179}00179\ \ \ \ \ node-\/>\mbox{\hyperlink{structdaq__param__list__node_a4f12dbd7428c303f9b679ad5dfa1b790}{size}}\ =\ \mbox{\hyperlink{uvfr__utils_8h_a657e7e858d8847396634fd9912747f8b}{data\_size}}[datapoint-\/>\mbox{\hyperlink{structdaq__datapoint_a44606584203d50acb9b885e45068846b}{type}}];}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00180}00180\ \ \ \ \ node-\/>\mbox{\hyperlink{structdaq__param__list__node_aa70718d4adff315eb53a8c00e4b1021a}{next}}\ =\ NULL;}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00181}00181\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00182}00182\ \ \ \ \ \textcolor{keywordflow}{while}(1)\{}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00183}00183\ \ \ \ \ \ \ \ \ \textcolor{comment}{//Keep\ going\ until\ we\ find\ one\ with\ a\ period\ that\ matches}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00184}00184\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(list\_tmp-\/>\mbox{\hyperlink{structdaq__child__task_ada97dc181bb6a3919f978fb17431d336}{period}}\ ==\ datapoint-\/>\mbox{\hyperlink{structdaq__datapoint_a8f1ff0b0cde6cc45079cd85c764b2ebe}{period}})\{}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00185}00185\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//Insert\ to\ list}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00186}00186\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{daq_8c_adcd689b5d7e750a2970e1f9e05c16c55}{insertParamToParamList}}(node,\ \&(list\_tmp-\/>\mbox{\hyperlink{structdaq__child__task_ab58febeab8b66376a3b3520e9cff950f}{param\_list}}));}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00187}00187\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{uvfr__utils_8h_a71c52c44be11d0980910401cb9b5fb9ea93b7493f003cb72e7b6138f2794b58e9}{UV\_OK}};}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00188}00188\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00189}00189\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00190}00190\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00191}00191\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(list\_tmp-\/>\mbox{\hyperlink{structdaq__child__task_a1c1a861279f70722384c45e9a62eecee}{next\_task}}\ ==\ NULL)\{}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00192}00192\ \ \ \ \ \ \ \ \ \ \ \ \ list\_tmp-\/>\mbox{\hyperlink{structdaq__child__task_a1c1a861279f70722384c45e9a62eecee}{next\_task}}\ =\ uvMalloc(\textcolor{keyword}{sizeof}(\mbox{\hyperlink{structdaq__child__task}{daq\_child\_task}}));}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00193}00193\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00194}00194\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(list\_tmp-\/>\mbox{\hyperlink{structdaq__child__task_a1c1a861279f70722384c45e9a62eecee}{next\_task}}\ ==\ NULL)\{}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00195}00195\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//Another\ big\ oopsie}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00196}00196\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00197}00197\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00198}00198\ \ \ \ \ \ \ \ \ \ \ \ \ list\_tmp-\/>\mbox{\hyperlink{structdaq__child__task_a1c1a861279f70722384c45e9a62eecee}{next\_task}}-\/>\mbox{\hyperlink{structdaq__child__task_ada97dc181bb6a3919f978fb17431d336}{period}}\ =\ datapoint-\/>\mbox{\hyperlink{structdaq__datapoint_a8f1ff0b0cde6cc45079cd85c764b2ebe}{period}};}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00199}00199\ \ \ \ \ \ \ \ \ \ \ \ \ list\_tmp-\/>\mbox{\hyperlink{structdaq__child__task_a1c1a861279f70722384c45e9a62eecee}{next\_task}}-\/>\mbox{\hyperlink{structdaq__child__task_a1c1a861279f70722384c45e9a62eecee}{next\_task}}\ =\ NULL;}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00200}00200\ \ \ \ \ \ \ \ \ \ \ \ \ list\_tmp-\/>\mbox{\hyperlink{structdaq__child__task_a1c1a861279f70722384c45e9a62eecee}{next\_task}}-\/>\mbox{\hyperlink{structdaq__child__task_ab58febeab8b66376a3b3520e9cff950f}{param\_list}}\ =\ NULL;}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00201}00201\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//list\_tmp-\/>param\_list\ =\ NULL;}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00202}00202\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{daq_8c_adcd689b5d7e750a2970e1f9e05c16c55}{insertParamToParamList}}(node,\ \&(list\_tmp-\/>\mbox{\hyperlink{structdaq__child__task_a1c1a861279f70722384c45e9a62eecee}{next\_task}}-\/>\mbox{\hyperlink{structdaq__child__task_ab58febeab8b66376a3b3520e9cff950f}{param\_list}}));}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00203}00203\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{uvfr__utils_8h_a71c52c44be11d0980910401cb9b5fb9ea93b7493f003cb72e7b6138f2794b58e9}{UV\_OK}};}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00204}00204\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00205}00205\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00206}00206\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00207}00207\ \ \ \ \ \ \ \ \ list\_tmp\ =\ list\_tmp-\/>\mbox{\hyperlink{structdaq__child__task_a1c1a861279f70722384c45e9a62eecee}{next\_task}};}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00208}00208\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00209}00209\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00210}00210\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{uvfr__utils_8h_a71c52c44be11d0980910401cb9b5fb9ea93b7493f003cb72e7b6138f2794b58e9}{UV\_OK}};}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00211}00211\ \}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00212}00212\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00213}00213\ \textcolor{comment}{//daq\_param\_list\_node*\ param\_bank;}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00214}00214\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00218}\mbox{\hyperlink{daq_8c_a9e1cd582f8748d018266ba4ab15561ae}{00218}}\ \mbox{\hyperlink{can_8h_aef3770e45bbacbf527fd93dd80eea9b9}{uv\_status}}\ \mbox{\hyperlink{daq_8c_a9e1cd582f8748d018266ba4ab15561ae}{configureDaqSubTasks}}()\{}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00219}00219\ \ \ \ \ uint16\_t\ n\_logged\_params\ =\ \mbox{\hyperlink{daq_8c_a5a9a97f4494923c066b5c4faaaaf8f88}{curr\_daq\_settings}}-\/>\mbox{\hyperlink{structdaq__loop__args_acb7bf20ade7a6544c747aebc165b7faf}{total\_params\_logged}};}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00220}00220\ \ \ \ \ \textcolor{comment}{//uint16\_t\ n;\ //\ Will\ use\ this\ to\ track\ number\ of\ params\ used\ as\ we\ iterate}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00221}00221\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00222}00222\ \ \ \ \ \mbox{\hyperlink{structdaq__datapoint}{daq\_datapoint}}*\ master\_param\_list\ =\ \mbox{\hyperlink{uvfr__settings_8h_a03566822d1b8893362970a459bd67daf}{current\_vehicle\_settings}}-\/>\mbox{\hyperlink{structuv__vehicle__settings_a191aefb9e6f4516a91157e5d6d68205b}{daq\_param\_list}};}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00223}00223\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00224}00224\ \ \ \ \ \mbox{\hyperlink{daq_8c_a463311a3d81da8e08c8c9c78d447fc59}{param\_bank}}\ =\ uvMalloc(n\_logged\_params*\textcolor{keyword}{sizeof}(\mbox{\hyperlink{structdaq__param__list__node}{daq\_param\_list\_node}}));}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00225}00225\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00226}00226\ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{daq_8c_a463311a3d81da8e08c8c9c78d447fc59}{param\_bank}}\ ==\ NULL)\{}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00227}00227\ \ \ \ \ \ \ \ \ uvPanic(\textcolor{stringliteral}{"{}outofmem"{}},0);}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00228}00228\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{uvfr__utils_8h_a71c52c44be11d0980910401cb9b5fb9ea480ef4e56d17703f0629bfe1e06bc4f0}{UV\_ERROR}};}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00229}00229\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00230}00230\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00231}00231\ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int}\ i\ =\ 0;\ i<n\_logged\_params\ ;\ i++)\{}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00232}00232\ \ \ \ \ \ \ \ \ \textcolor{comment}{//We\ now\ go\ through\ all\ of\ the\ parameters.}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00233}00233\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{daq_8c_ab60ac31cdb244a3123d9d014d9019b2c}{insertParamToRegister}}(\&(\mbox{\hyperlink{daq_8c_a463311a3d81da8e08c8c9c78d447fc59}{param\_bank}}[i]),\&(master\_param\_list[i]))\ !=\ \mbox{\hyperlink{uvfr__utils_8h_a71c52c44be11d0980910401cb9b5fb9ea93b7493f003cb72e7b6138f2794b58e9}{UV\_OK}})\{}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00234}00234\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//This\ is\ a\ non\_critical\ system,\ so\ I\ vote\ we\ just\ ignore\ it.}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00235}00235\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00236}00236\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00237}00237\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00238}00238\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{uvfr__utils_8h_a71c52c44be11d0980910401cb9b5fb9ea93b7493f003cb72e7b6138f2794b58e9}{UV\_OK}};}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00239}00239\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00240}00240\ \}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00241}00241\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00245}\mbox{\hyperlink{daq_8c_a65df75bcd76d421bf28fca5704c8ff95}{00245}}\ \mbox{\hyperlink{can_8h_aef3770e45bbacbf527fd93dd80eea9b9}{uv\_status}}\ \mbox{\hyperlink{daq_8c_a65df75bcd76d421bf28fca5704c8ff95}{startDaqSubTasks}}()\{}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00246}00246\ \ \ \ \ \mbox{\hyperlink{structdaq__child__task}{daq\_child\_task}}*\ tmp\ =\ \mbox{\hyperlink{daq_8c_a912bd9ed0555d1bedc46ec216962c5f1}{daq\_tlist}};}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00247}00247\ \ \ \ \ \mbox{\hyperlink{portmacro_8h_a46fb21e00ae0729d7515c0fbf2269796}{BaseType\_t}}\ retval\ =\ 0;}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00248}00248\ \ \ \ \ \textcolor{keywordflow}{while}(tmp\ !=\ NULL)\{}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00249}00249\ \ \ \ \ \ \ \ \ retval\ =\ xTaskCreate(\mbox{\hyperlink{daq_8c_a740f6299f5ce19d6d94d148e13231dd9}{daqSubTask}},}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00250}00250\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}DaqSub"{}},256,tmp,}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00251}00251\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{daq_8c_a5a9a97f4494923c066b5c4faaaaf8f88}{curr\_daq\_settings}}-\/>\mbox{\hyperlink{structdaq__loop__args_af3ed9db4033594f8f7db2649a1ca59c0}{daq\_child\_priority}},}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00252}00252\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \&(tmp-\/>\mbox{\hyperlink{structdaq__child__task_aeb649c4b5047ed12107eea04fb68042e}{meta\_task\_handle}}));}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00253}00253\ \ \ \ \ \ \ \ \ tmp\ =\ tmp-\/>\mbox{\hyperlink{structdaq__child__task_a1c1a861279f70722384c45e9a62eecee}{next\_task}};}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00254}00254\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00255}00255\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00256}00256\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{uvfr__utils_8h_a71c52c44be11d0980910401cb9b5fb9ea93b7493f003cb72e7b6138f2794b58e9}{UV\_OK}};}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00257}00257\ \}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00258}00258\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00262}\mbox{\hyperlink{daq_8c_ad3997ae047f3e30136b3f2b668c8030a}{00262}}\ \mbox{\hyperlink{can_8h_aef3770e45bbacbf527fd93dd80eea9b9}{uv\_status}}\ \mbox{\hyperlink{daq_8c_ad3997ae047f3e30136b3f2b668c8030a}{stopDaqSubTasks}}()\{}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00263}00263\ \ \ \ \ \mbox{\hyperlink{structdaq__child__task}{daq\_child\_task}}*\ tmp\ =\ \mbox{\hyperlink{daq_8c_a912bd9ed0555d1bedc46ec216962c5f1}{daq\_tlist}};}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00264}00264\ \ \ \ \ \mbox{\hyperlink{portmacro_8h_a46fb21e00ae0729d7515c0fbf2269796}{BaseType\_t}}\ retval\ =\ 0;}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00265}00265\ \ \ \ \ \textcolor{keywordflow}{while}(tmp!=NULL)\{}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00266}00266\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{task_8h_a27ff4ebce26565bef136bda84201ff80}{vTaskDelete}}(tmp-\/>\mbox{\hyperlink{structdaq__child__task_aeb649c4b5047ed12107eea04fb68042e}{meta\_task\_handle}});}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00267}00267\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00268}00268\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{uvfr__utils_8h_a71c52c44be11d0980910401cb9b5fb9ea480ef4e56d17703f0629bfe1e06bc4f0}{UV\_ERROR}};}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00269}00269\ \}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00270}00270\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00271}\mbox{\hyperlink{daq_8c_a46330ae75c3716f15677e104e8cced32}{00271}}\ \mbox{\hyperlink{structuv___c_a_n__msg}{uv\_CAN\_msg}}\ \mbox{\hyperlink{daq_8c_a46330ae75c3716f15677e104e8cced32}{tmp\_daq\_msg}};}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00272}00272\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00288}\mbox{\hyperlink{daq_8h_af2c619df9f3d115dcbc511b0bb738e87}{00288}}\ \mbox{\hyperlink{can_8h_aef3770e45bbacbf527fd93dd80eea9b9}{uv\_status}}\ \mbox{\hyperlink{daq_8c_af2c619df9f3d115dcbc511b0bb738e87}{initDaqTask}}(\textcolor{keywordtype}{void}\ *\ args)\{}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00289}00289\ \ \ \ \ \mbox{\hyperlink{adc_8h_acccd58aa70215a6b184ad242312ffd0c}{MX\_ADC1\_Init}};\ \textcolor{comment}{//calling\ initialization\ of\ ADC1}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00290}00290\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00291}00291\ \ \ \ \ \mbox{\hyperlink{daq_8c_a5a9a97f4494923c066b5c4faaaaf8f88}{curr\_daq\_settings}}\ =\ \mbox{\hyperlink{uvfr__settings_8h_a03566822d1b8893362970a459bd67daf}{current\_vehicle\_settings}}-\/>\mbox{\hyperlink{structuv__vehicle__settings_a6caecf0c9fd669e421c4005600d81b71}{daq\_settings}};}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00292}00292\ \ \ \ \ \mbox{\hyperlink{daq_8c_ad6cbbc8d3571452db9a10c35551f721e}{datapoints}}\ =\ \mbox{\hyperlink{uvfr__settings_8h_a03566822d1b8893362970a459bd67daf}{current\_vehicle\_settings}}-\/>\mbox{\hyperlink{structuv__vehicle__settings_a191aefb9e6f4516a91157e5d6d68205b}{daq\_param\_list}};}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00293}00293\ \ \ \ \ \mbox{\hyperlink{daq_8c_a46330ae75c3716f15677e104e8cced32}{tmp\_daq\_msg}}.\mbox{\hyperlink{structuv___c_a_n__msg_a3a3fdc7fed06a631fefa58ea44052d8d}{flags}}\ =\ \mbox{\hyperlink{daq_8c_a5a9a97f4494923c066b5c4faaaaf8f88}{curr\_daq\_settings}}-\/>\mbox{\hyperlink{structdaq__loop__args_ac6e97a06cf45265c74de1ac1f13fad81}{can\_channel}};}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00294}00294\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00295}00295\ \ \ \ \ \mbox{\hyperlink{daq_8c_a56ca1193de01115c27ceb3768994017f}{associateDaqParamWithVar}}(\mbox{\hyperlink{daq_8h_a5249d5d3ad44df9d4479b814028469a9a5bdd2cd7badbaa890b54c82af7da4035}{COOLANT\_TEMP\_ADC}},\ (\textcolor{keywordtype}{void}*)\&\mbox{\hyperlink{daq_8c_a2273a53b295e470100af298a0be7d8d7}{coolant\_temp\_adc}});\ \textcolor{comment}{//HOOKING\ ADC\ VARS\ TO\ DAQ.\ }}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00296}00296\ \ \ \ \ \mbox{\hyperlink{daq_8c_a56ca1193de01115c27ceb3768994017f}{associateDaqParamWithVar}}(\mbox{\hyperlink{daq_8h_a5249d5d3ad44df9d4479b814028469a9a6e2e0d55959021b3a1926482664a3e03}{MOTOR\_TEMP\_ADC}},\ (\textcolor{keywordtype}{void}*)\&\mbox{\hyperlink{daq_8c_a0611933f2919b8900cd5e667043747fe}{motor\_temp\_adc}});\ \textcolor{comment}{//HOOKING\ ADC\ VARS\ TO\ DAQ.\ }}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00297}00297\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00298}00298\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00299}00299\ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{daq_8c_a9e1cd582f8748d018266ba4ab15561ae}{configureDaqSubTasks}}()\ !=\ \mbox{\hyperlink{uvfr__utils_8h_a71c52c44be11d0980910401cb9b5fb9ea93b7493f003cb72e7b6138f2794b58e9}{UV\_OK}})\{}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00300}00300\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{uvfr__utils_8h_a71c52c44be11d0980910401cb9b5fb9ea480ef4e56d17703f0629bfe1e06bc4f0}{UV\_ERROR}};}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00301}00301\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00302}00302\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00303}00303\ \ \ \ \ \mbox{\hyperlink{structuv__task__info}{uv\_task\_info}}*\ daq\_task\ =\ \mbox{\hyperlink{group__state__engine__api_gac977eb33c99a9ac0a5f51a7db20e24d6}{uvCreateTask}}();}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00304}00304\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00305}00305\ \ \ \ \ \textcolor{keywordflow}{if}(daq\_task\ ==\ NULL)\{}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00306}00306\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//Oh\ dear\ lawd}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00307}00307\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{uvfr__utils_8h_a71c52c44be11d0980910401cb9b5fb9ea480ef4e56d17703f0629bfe1e06bc4f0}{UV\_ERROR}};}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00308}00308\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00309}00309\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00310}00310\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00311}00311\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//DO\ NOT\ TOUCH\ ANY\ OF\ THE\ FIELDS\ WE\ HAVENT\ ALREADY\ MENTIONED\ HERE.\ FOR\ THE\ LOVE\ OF\ GOD.}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00312}00312\ \ \ \ \ daq\_task-\/>\mbox{\hyperlink{structuv__task__info_ad24b438130bb3098ee5e855222dff21d}{task\_name}}\ =\ \textcolor{stringliteral}{"{}daq"{}};}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00313}00313\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00314}00314\ \ \ \ \ daq\_task-\/>\mbox{\hyperlink{structuv__task__info_afcd240d2b6b01b4acea600ef4dfe8fbc}{task\_function}}\ =\ \mbox{\hyperlink{daq_8c_a433bb586ceab47aed8d633fa2ff8ce56}{daqMasterTask}};}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00315}00315\ \ \ \ \ daq\_task-\/>\mbox{\hyperlink{structuv__task__info_aff45751f7189980589d55379d1d5a355}{task\_priority}}\ =\ \mbox{\hyperlink{daq_8c_a5a9a97f4494923c066b5c4faaaaf8f88}{curr\_daq\_settings}}-\/>\mbox{\hyperlink{structdaq__loop__args_af3ed9db4033594f8f7db2649a1ca59c0}{daq\_child\_priority}}\ +\ 1;\ \textcolor{comment}{//Slightly\ more\ important\ than\ the\ children\ tasks}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00316}00316\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00317}00317\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00318}00318\ \ \ \ \ daq\_task-\/>\mbox{\hyperlink{structuv__task__info_a353ec6bf2c42ab0920f3d1e671e568a3}{stack\_size}}\ =\ 256;}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00319}00319\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00320}00320\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00321}00321\ \ \ \ \ daq\_task-\/>\mbox{\hyperlink{structuv__task__info_ab24dea3bde4de2d839bf15e65c2df0d6}{active\_states}}\ =\ \mbox{\hyperlink{group__state__engine__api_gga259abff5a03eaf908dc8f03d99f478e4a9ec1eef180c6208b25b08f0526dc5eb8}{UV\_READY}}\ |\ \mbox{\hyperlink{group__state__engine__api_gga259abff5a03eaf908dc8f03d99f478e4aa4f9f0d81d66079ab97ea3abc3808969}{UV\_DRIVING}}\ |\ \mbox{\hyperlink{group__state__engine__api_gga259abff5a03eaf908dc8f03d99f478e4ac1fcacc095b8c0f1c9f452d51815bcb5}{UV\_ERROR\_STATE}}\ |\ \mbox{\hyperlink{group__state__engine__api_gga259abff5a03eaf908dc8f03d99f478e4a7ff39f8abdc9adbfd693e412e4aaeb6e}{UV\_LAUNCH\_CONTROL}}\ ;}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00322}00322\ \ \ \ \ daq\_task-\/>\mbox{\hyperlink{structuv__task__info_aafd4e2d916f50b54b99fd02d63831e43}{suspension\_states}}\ =\ 0x00;}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00323}00323\ \ \ \ \ daq\_task-\/>\mbox{\hyperlink{structuv__task__info_a6986d7216c7f889164931b37ab752c29}{deletion\_states}}\ =\ \mbox{\hyperlink{group__state__engine__api_gga259abff5a03eaf908dc8f03d99f478e4abed5371c079ef927fb67d8bb8e8aa286}{PROGRAMMING}}\ ;}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00324}00324\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00325}00325\ \ \ \ \ daq\_task-\/>\mbox{\hyperlink{structuv__task__info_ad157811debce6672bb6d00da7e90b6ca}{task\_period}}\ =\ 20;\ \textcolor{comment}{//measured\ in\ ms}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00326}00326\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00327}00327\ \ \ \ \ daq\_task-\/>\mbox{\hyperlink{structuv__task__info_ae255dff9b38fc8c0754085060e8ae699}{task\_args}}\ =\ NULL;\ \textcolor{comment}{//TODO:\ Add\ actual\ settings\ dipshit}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00328}00328\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00329}00329\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00330}00330\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{uvfr__utils_8h_a71c52c44be11d0980910401cb9b5fb9ea93b7493f003cb72e7b6138f2794b58e9}{UV\_OK}};}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00331}00331\ \}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00332}00332\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00336}\mbox{\hyperlink{daq_8h_a433bb586ceab47aed8d633fa2ff8ce56}{00336}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{daq_8c_a433bb586ceab47aed8d633fa2ff8ce56}{daqMasterTask}}(\textcolor{keywordtype}{void}*\ args)\{}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00337}00337\ \ \ \ \ \mbox{\hyperlink{structuv__task__info}{uv\_task\_info}}*\ params\ =\ (\mbox{\hyperlink{structuv__task__info}{uv\_task\_info}}*)\ args;\ \textcolor{comment}{//Evil\ pointer\ typecast}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00338}00338\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00339}00339\ \ \ \ \ \mbox{\hyperlink{task_8h_aa154068cecd7f31446a7a84af44ab1a3}{vTaskDelay}}(50);\ \textcolor{comment}{//Give\ it\ a\ moment\ before\ spawning\ in\ a\ bunch\ of\ daq\_tasks}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00340}00340\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00341}00341\ \ \ \ \ \textcolor{comment}{//updateReadings();\ //update\ ADC\ values}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00342}00342\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00343}00343\ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{daq_8c_a65df75bcd76d421bf28fca5704c8ff95}{startDaqSubTasks}}()!=\mbox{\hyperlink{uvfr__utils_8h_a71c52c44be11d0980910401cb9b5fb9ea93b7493f003cb72e7b6138f2794b58e9}{UV\_OK}})\{}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00344}00344\ \ \ \ \ \ \ \ \ \textcolor{comment}{//failed\ to\ start\ the\ daq\ subtasks}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00345}00345\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00346}00346\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00351}00351\ \ \ \ \ \mbox{\hyperlink{portmacro_8h_aa69c48c6e902ce54f70886e6573c92a9}{TickType\_t}}\ tick\_period\ =\ \mbox{\hyperlink{projdefs_8h_a353d0f62b82a402cb3db63706c81ec3f}{pdMS\_TO\_TICKS}}(params-\/>\mbox{\hyperlink{structuv__task__info_ad157811debce6672bb6d00da7e90b6ca}{task\_period}});\ \textcolor{comment}{//Convert\ ms\ of\ period\ to\ the\ RTOS\ ticks}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00352}00352\ \ \ \ \ \textcolor{comment}{//TickType\_t\ last\_time\ =\ xTaskGetTickCount();\ \ \ \ \ \ \ /**@endcode\ */}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00353}00353\ \ \ \ \ \textcolor{keywordflow}{for}(;;)\{}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00354}00354\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(params-\/>\mbox{\hyperlink{structuv__task__info_af532b5031cd6a168a3ec45ab9ead4f23}{cmd\_data}}\ ==\ \mbox{\hyperlink{group__state__engine__api_ggaf11e8677926913f2dd803fabbed3455ca0e75e398c2bbcb663eaeb98684ca69d6}{UV\_KILL\_CMD}})\{}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00355}00355\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//stopDaqSubTasks();}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00356}00356\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00357}00357\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group__state__engine__backend_ga5f35b34432afed7f18f91fb8607f096f}{killSelf}}(params);}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00358}00358\ \ \ \ \ \ \ \ \ \}\textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}(params-\/>\mbox{\hyperlink{structuv__task__info_af532b5031cd6a168a3ec45ab9ead4f23}{cmd\_data}}\ ==\ \mbox{\hyperlink{group__state__engine__api_ggaf11e8677926913f2dd803fabbed3455ca5f389a67f2a45fe1f51492b3b8f04077}{UV\_SUSPEND\_CMD}})\{}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00359}00359\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//stopDaqSubTasks();}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00360}00360\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00361}00361\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//suspendSelf(params);}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00362}00362\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00363}00363\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group__state__engine__api_ga5073c1aa60fa9292bc88054a2184daee}{uvTaskDelay}}(params,params-\/>\mbox{\hyperlink{structuv__task__info_ad157811debce6672bb6d00da7e90b6ca}{task\_period}});}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00364}00364\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00365}00365\ \ \ \ \ \ \ \ \ \textcolor{comment}{//HAL\_GPIO\_TogglePin(GPIOD,GPIO\_PIN\_15);}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00366}00366\ \textcolor{comment}{//\ \ \ \ \ \ if(HAL\_GPIO\_ReadPin(GPIOA,\ GPIO\_PIN\_0))\{}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00367}00367\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ vTaskDelay(25);}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00368}00368\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ while(HAL\_GPIO\_ReadPin(GPIOA,\ GPIO\_PIN\_0))\{}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00369}00369\ \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00370}00370\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00371}00371\ \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00372}00372\ \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00373}00373\ \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00374}00374\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ changeVehicleState(UV\_DRIVING);}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00375}00375\ \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00376}00376\ \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00377}00377\ \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00378}00378\ \textcolor{comment}{//\ \ \ \ \ \ \}}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00379}00379\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00380}00380\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00381}00381\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00382}00382\ \}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00383}00383\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00384}00384\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00385}00385\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00386}00386\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00390}\mbox{\hyperlink{daq_8c_a3264ce2e91867c895df43ce7ddc3dd86}{00390}}\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{daq_8c_a3264ce2e91867c895df43ce7ddc3dd86}{sendDaqMsg}}(\mbox{\hyperlink{structdaq__param__list__node}{daq\_param\_list\_node}}*\ param)\{}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00391}00391\ \ \ \ \ \textcolor{keywordflow}{if}(param-\/>\mbox{\hyperlink{structdaq__param__list__node_a4a500221ca5a1327ac953045d1cb6d5e}{param}}\ >\ 32)\{}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00392}00392\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00393}00393\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00394}00394\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00395}00395\ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{daq_8c_aeed531c2be2a5177eebeaacd47c04526}{param\_ptrs}}[param-\/>\mbox{\hyperlink{structdaq__param__list__node_a4a500221ca5a1327ac953045d1cb6d5e}{param}}]\ ==\ NULL)\{\ \textcolor{comment}{//We\ simply\ ignore\ nulls\ instead\ of\ say,\ crashing}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00396}00396\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00397}00397\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00398}00398\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00399}00399\ \ \ \ \ \mbox{\hyperlink{daq_8c_a46330ae75c3716f15677e104e8cced32}{tmp\_daq\_msg}}.\mbox{\hyperlink{structuv___c_a_n__msg_aae369fbabe3cc5b71a89bb641c24aace}{msg\_id}}\ =\ param-\/>\mbox{\hyperlink{structdaq__param__list__node_a6b52773cafc7e69fdb4eca2d64a2fab3}{can\_id}};}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00400}00400\ \ \ \ \ \mbox{\hyperlink{daq_8c_a46330ae75c3716f15677e104e8cced32}{tmp\_daq\_msg}}.\mbox{\hyperlink{structuv___c_a_n__msg_aec63cc112176da7895d0cfc8b32e6935}{data}}[0]\ =\ *((uint8\_t*)(\mbox{\hyperlink{daq_8c_aeed531c2be2a5177eebeaacd47c04526}{param\_ptrs}}[param-\/>\mbox{\hyperlink{structdaq__param__list__node_a4a500221ca5a1327ac953045d1cb6d5e}{param}}]));}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00401}00401\ \ \ \ \ \mbox{\hyperlink{daq_8c_a46330ae75c3716f15677e104e8cced32}{tmp\_daq\_msg}}.\mbox{\hyperlink{structuv___c_a_n__msg_aec63cc112176da7895d0cfc8b32e6935}{data}}[1]\ =\ *((uint8\_t*)(\mbox{\hyperlink{daq_8c_aeed531c2be2a5177eebeaacd47c04526}{param\_ptrs}}[param-\/>\mbox{\hyperlink{structdaq__param__list__node_a4a500221ca5a1327ac953045d1cb6d5e}{param}}]+1));}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00402}00402\ \ \ \ \ \mbox{\hyperlink{daq_8c_a46330ae75c3716f15677e104e8cced32}{tmp\_daq\_msg}}.\mbox{\hyperlink{structuv___c_a_n__msg_aec63cc112176da7895d0cfc8b32e6935}{data}}[2]\ =\ *((uint8\_t*)(\mbox{\hyperlink{daq_8c_aeed531c2be2a5177eebeaacd47c04526}{param\_ptrs}}[param-\/>\mbox{\hyperlink{structdaq__param__list__node_a4a500221ca5a1327ac953045d1cb6d5e}{param}}]+2));}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00403}00403\ \ \ \ \ \mbox{\hyperlink{daq_8c_a46330ae75c3716f15677e104e8cced32}{tmp\_daq\_msg}}.\mbox{\hyperlink{structuv___c_a_n__msg_aec63cc112176da7895d0cfc8b32e6935}{data}}[3]\ =\ *((uint8\_t*)(\mbox{\hyperlink{daq_8c_aeed531c2be2a5177eebeaacd47c04526}{param\_ptrs}}[param-\/>\mbox{\hyperlink{structdaq__param__list__node_a4a500221ca5a1327ac953045d1cb6d5e}{param}}]+3));}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00404}00404\ \ \ \ \ \mbox{\hyperlink{daq_8c_a46330ae75c3716f15677e104e8cced32}{tmp\_daq\_msg}}.\mbox{\hyperlink{structuv___c_a_n__msg_aa74af3745c8b56910d7c309245541d37}{dlc}}\ =\ param-\/>\mbox{\hyperlink{structdaq__param__list__node_a4f12dbd7428c303f9b679ad5dfa1b790}{size}};}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00405}00405\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00406}00406\ \ \ \ \ \mbox{\hyperlink{group__uvfr__can__api_ga62414944c3b631f57fdd08e467bcf5a4}{uvSendCanMSG}}(\&\mbox{\hyperlink{daq_8c_a46330ae75c3716f15677e104e8cced32}{tmp\_daq\_msg}});}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00407}00407\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00408}00408\ \}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00409}00409\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00413}\mbox{\hyperlink{daq_8c_ae7274a95a4e4881bc3fe84c9021d4a6c}{00413}}\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{daq_8c_ae7274a95a4e4881bc3fe84c9021d4a6c}{sendAllParamsFromList}}(\mbox{\hyperlink{structdaq__param__list__node}{daq\_param\_list\_node}}*\ list)\{}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00414}00414\ \ \ \ \ \textcolor{keywordflow}{if}(list\ ==\ NULL)\{}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00415}00415\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00416}00416\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00417}00417\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00418}00418\ \ \ \ \ \textcolor{keywordflow}{while}(list\ !=\ NULL)\{}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00419}00419\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{daq_8c_a3264ce2e91867c895df43ce7ddc3dd86}{sendDaqMsg}}(list);}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00420}00420\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00421}00421\ \ \ \ \ \ \ \ \ list\ =\ list-\/>\mbox{\hyperlink{structdaq__param__list__node_aa70718d4adff315eb53a8c00e4b1021a}{next}};}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00422}00422\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00423}00423\ \}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00424}00424\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00428}\mbox{\hyperlink{daq_8c_a740f6299f5ce19d6d94d148e13231dd9}{00428}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{daq_8c_a740f6299f5ce19d6d94d148e13231dd9}{daqSubTask}}(\textcolor{keywordtype}{void}*\ args)\{}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00429}00429\ \ \ \ \ \mbox{\hyperlink{structdaq__child__task}{daq\_child\_task}}*\ params\ =\ (\mbox{\hyperlink{structdaq__child__task}{daq\_child\_task}}*)args;}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00430}00430\ }
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00431}00431\ \ \ \ \ \mbox{\hyperlink{portmacro_8h_aa69c48c6e902ce54f70886e6573c92a9}{TickType\_t}}\ curr\_time\ =\ \mbox{\hyperlink{task_8h_a753ecfe23e7386066ecccad5d16422f7}{xTaskGetTickCount}}();}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00432}00432\ \ \ \ \ \textcolor{keywordflow}{for}(;;)\{}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00433}00433\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{daq_8c_ae7274a95a4e4881bc3fe84c9021d4a6c}{sendAllParamsFromList}}(params-\/>\mbox{\hyperlink{structdaq__child__task_ab58febeab8b66376a3b3520e9cff950f}{param\_list}});}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00434}00434\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{task_8h_a067da3e949e248096ec6c01f9cb75a47}{vTaskDelayUntil}}(\&curr\_time,\mbox{\hyperlink{projdefs_8h_a353d0f62b82a402cb3db63706c81ec3f}{pdMS\_TO\_TICKS}}(params-\/>\mbox{\hyperlink{structdaq__child__task_ada97dc181bb6a3919f978fb17431d336}{period}}));}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00435}00435\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00436}00436\ \}}
\DoxyCodeLine{\Hypertarget{daq_8c_source_l00437}00437\ }

\end{DoxyCode}
