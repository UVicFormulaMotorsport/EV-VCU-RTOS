\doxysection{Message\+Buffer\+Management}
\hypertarget{group___message_buffer_management}{}\label{group___message_buffer_management}\index{MessageBufferManagement@{MessageBufferManagement}}
\doxysubsubsection*{Topics}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{group__x_message_buffer_create}{x\+Message\+Buffer\+Create}}
\item 
\mbox{\hyperlink{group__x_message_buffer_create_static}{x\+Message\+Buffer\+Create\+Static}}
\item 
\mbox{\hyperlink{group__x_message_buffer_send}{x\+Message\+Buffer\+Send}}
\item 
\mbox{\hyperlink{group__x_message_buffer_send_from_i_s_r}{x\+Message\+Buffer\+Send\+From\+ISR}}
\item 
\mbox{\hyperlink{group__x_message_buffer_receive}{x\+Message\+Buffer\+Receive}}
\item 
\mbox{\hyperlink{group__x_message_buffer_receive_from_i_s_r}{x\+Message\+Buffer\+Receive\+From\+ISR}}
\item 
\mbox{\hyperlink{group__x_message_buffer_reset}{x\+Message\+Buffer\+Reset}}
\item 
\mbox{\hyperlink{group__x_message_buffer_space_available}{x\+Message\+Buffer\+Space\+Available}}
\item 
\mbox{\hyperlink{group__x_message_buffer_next_length_bytes}{x\+Message\+Buffer\+Next\+Length\+Bytes}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\doxylink{message__buffer_8h}{message\+\_\+buffer.\+h}

Message\+Buffer\+Handle\+\_\+t \doxylink{message__buffer_8h_a2959cd0e3d2bd20d46908e5c9872be36}{x\+Message\+Buffer\+Create( size\+\_\+t x\+Buffer\+Size\+Bytes )};

Creates a new message buffer using dynamically allocated memory. See \doxylink{message__buffer_8h_acc84f4a15dbd39ecbad35f7337e78b2c}{x\+Message\+Buffer\+Create\+Static()} for a version that uses statically allocated memory (memory that is allocated at compile time).

config\+SUPPORT\+\_\+\+DYNAMIC\+\_\+\+ALLOCATION must be set to 1 or left undefined in \doxylink{_free_r_t_o_s_config_8h}{Free\+RTOSConfig.\+h} for \doxylink{message__buffer_8h_a2959cd0e3d2bd20d46908e5c9872be36}{x\+Message\+Buffer\+Create()} to be available.


\begin{DoxyParams}{Parameters}
{\em x\+Buffer\+Size\+Bytes} & The total number of bytes (not messages) the message buffer will be able to hold at any one time. When a message is written to the message buffer an additional sizeof( size\+\_\+t ) bytes are also written to store the message\textquotesingle{}s length. sizeof( size\+\_\+t ) is typically 4 bytes on a 32-\/bit architecture, so on most 32-\/bit architectures a 10 byte message will take up 14 bytes of message buffer space.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
If NULL is returned, then the message buffer cannot be created because there is insufficient heap memory available for Free\+RTOS to allocate the message buffer data structures and storage area. A non-\/\+NULL value being returned indicates that the message buffer has been created successfully -\/ the returned value should be stored as the handle to the created message buffer.
\end{DoxyReturn}
Example use\+:

void v\+AFunction( void ) \{ Message\+Buffer\+Handle\+\_\+t x\+Message\+Buffer; const size\+\_\+t x\+Message\+Buffer\+Size\+Bytes = 100;

Create a message buffer that can hold 100 bytes. The memory used to hold both the message buffer structure and the messages themselves is allocated dynamically. Each message added to the buffer consumes an additional 4 bytes which are used to hold the lengh of the message. x\+Message\+Buffer = \doxylink{message__buffer_8h_a2959cd0e3d2bd20d46908e5c9872be36}{x\+Message\+Buffer\+Create( x\+Message\+Buffer\+Size\+Bytes )};

if( x\+Message\+Buffer == NULL ) \{ There was not enough heap memory space available to create the message buffer. \} else \{ The message buffer was created successfully and can now be used. \} \input{group__x_message_buffer_create}
\input{group__x_message_buffer_create_static}
\input{group__x_message_buffer_send}
\input{group__x_message_buffer_send_from_i_s_r}
\input{group__x_message_buffer_receive}
\input{group__x_message_buffer_receive_from_i_s_r}
\input{group__x_message_buffer_reset}
\input{group__x_message_buffer_space_available}
\input{group__x_message_buffer_next_length_bytes}
