<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.12.0" xml:lang="en-US">
  <compounddef id="uvfr__vehicle__logger_8c" kind="file" language="C++">
    <compoundname>uvfr_vehicle_logger.c</compoundname>
    <includes refid="uvfr__utils_8h" local="yes">uvfr_utils.h</includes>
    <includes refid="uvfr__state__engine_8h" local="yes">uvfr_state_engine.h</includes>
    <includes refid="uvfr__vehicle__logger_8h" local="yes">uvfr_vehicle_logger.h</includes>
    <includes refid="can_8h" local="yes">can.h</includes>
    <incdepgraph>
      <node id="34">
        <label>cmsis_os.h</label>
        <link refid="cmsis__os_8h"/>
        <childnode refid="15" relation="include">
        </childnode>
        <childnode refid="35" relation="include">
        </childnode>
        <childnode refid="32" relation="include">
        </childnode>
        <childnode refid="33" relation="include">
        </childnode>
        <childnode refid="30" relation="include">
        </childnode>
        <childnode refid="36" relation="include">
        </childnode>
      </node>
      <node id="15">
        <label>freeRTOS.h</label>
        <link refid="_free_r_t_o_s_8h"/>
        <childnode refid="16" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="18" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
        <childnode refid="20" relation="include">
        </childnode>
      </node>
      <node id="18">
        <label>FreeRTOSConfig.h</label>
        <link refid="_free_r_t_o_s_config_8h"/>
      </node>
      <node id="21">
        <label>deprecated_definitions.h</label>
        <link refid="deprecated__definitions_8h"/>
      </node>
      <node id="35">
        <label>event_groups.h</label>
        <link refid="event__groups_8h"/>
        <childnode refid="36" relation="include">
        </childnode>
      </node>
      <node id="31">
        <label>list.h</label>
        <link refid="list_8h"/>
      </node>
      <node id="37">
        <label>message_buffer.h</label>
        <link refid="message__buffer_8h"/>
        <childnode refid="38" relation="include">
        </childnode>
      </node>
      <node id="24">
        <label>mpu_wrappers.h</label>
        <link refid="mpu__wrappers_8h"/>
      </node>
      <node id="20">
        <label>portable.h</label>
        <link refid="portable_8h"/>
        <childnode refid="21" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="24" relation="include">
        </childnode>
      </node>
      <node id="19">
        <label>projdefs.h</label>
        <link refid="projdefs_8h"/>
      </node>
      <node id="32">
        <label>queue.h</label>
        <link refid="queue_8h"/>
        <childnode refid="30" relation="include">
        </childnode>
      </node>
      <node id="33">
        <label>semphr.h</label>
        <link refid="semphr_8h"/>
        <childnode refid="32" relation="include">
        </childnode>
      </node>
      <node id="38">
        <label>stream_buffer.h</label>
        <link refid="stream__buffer_8h"/>
      </node>
      <node id="30">
        <label>task.h</label>
        <link refid="task_8h"/>
        <childnode refid="31" relation="include">
        </childnode>
      </node>
      <node id="36">
        <label>timers.h</label>
        <link refid="timers_8h"/>
        <childnode refid="30" relation="include">
        </childnode>
      </node>
      <node id="22">
        <label>portmacro.h</label>
        <link refid="portmacro_8h"/>
        <childnode refid="23" relation="include">
        </childnode>
      </node>
      <node id="7">
        <label>adc.h</label>
        <link refid="adc_8h"/>
        <childnode refid="4" relation="include">
        </childnode>
      </node>
      <node id="28">
        <label>bms.h</label>
        <link refid="bms_8h"/>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="2" relation="include">
        </childnode>
      </node>
      <node id="8">
        <label>can.h</label>
        <link refid="can_8h"/>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="9" relation="include">
        </childnode>
        <childnode refid="2" relation="include">
        </childnode>
      </node>
      <node id="9">
        <label>constants.h</label>
        <link refid="constants_8h"/>
      </node>
      <node id="26">
        <label>daq.h</label>
        <link refid="daq_8h"/>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="42">
        <label>dash.h</label>
        <link refid="dash_8h"/>
        <childnode refid="4" relation="include">
        </childnode>
      </node>
      <node id="10">
        <label>dma.h</label>
        <link refid="dma_8h"/>
        <childnode refid="4" relation="include">
        </childnode>
      </node>
      <node id="25">
        <label>driving_loop.h</label>
        <link refid="driving__loop_8h"/>
        <childnode refid="14" relation="include">
        </childnode>
        <childnode refid="2" relation="include">
        </childnode>
      </node>
      <node id="12">
        <label>gpio.h</label>
        <link refid="gpio_8h"/>
        <childnode refid="4" relation="include">
        </childnode>
      </node>
      <node id="43">
        <label>imd.h</label>
        <link refid="imd_8h"/>
        <childnode refid="4" relation="include">
        </childnode>
      </node>
      <node id="4">
        <label>main.h</label>
        <link refid="main_8h"/>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="2" relation="include">
        </childnode>
      </node>
      <node id="14">
        <label>motor_controller.h</label>
        <link refid="motor__controller_8h"/>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="15" relation="include">
        </childnode>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
      </node>
      <node id="48">
        <label>odometer.h</label>
        <link refid="odometer_8h"/>
        <childnode refid="2" relation="include">
        </childnode>
      </node>
      <node id="44">
        <label>pdu.h</label>
        <link refid="pdu_8h"/>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="2" relation="include">
        </childnode>
      </node>
      <node id="27">
        <label>rb_tree.h</label>
        <link refid="rb__tree_8h"/>
      </node>
      <node id="47">
        <label>temp_monitoring.h</label>
        <link refid="temp__monitoring_8h"/>
        <childnode refid="2" relation="include">
        </childnode>
      </node>
      <node id="11">
        <label>tim.h</label>
        <link refid="tim_8h"/>
        <childnode refid="4" relation="include">
        </childnode>
      </node>
      <node id="45">
        <label>uvfr_conifer.h</label>
        <link refid="uvfr__conifer_8h"/>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
      </node>
      <node id="39">
        <label>uvfr_diagnostics.h</label>
        <link refid="uvfr__diagnostics_8h"/>
        <childnode refid="40" relation="include">
        </childnode>
      </node>
      <node id="3">
        <label>uvfr_global_config.h</label>
        <link refid="uvfr__global__config_8h"/>
      </node>
      <node id="13">
        <label>uvfr_settings.h</label>
        <link refid="uvfr__settings_8h"/>
        <childnode refid="14" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="26" relation="include">
        </childnode>
        <childnode refid="28" relation="include">
        </childnode>
      </node>
      <node id="29">
        <label>uvfr_state_engine.h</label>
        <link refid="uvfr__state__engine_8h"/>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="15" relation="include">
        </childnode>
        <childnode refid="30" relation="include">
        </childnode>
        <childnode refid="32" relation="include">
        </childnode>
        <childnode refid="33" relation="include">
        </childnode>
        <childnode refid="34" relation="include">
        </childnode>
        <childnode refid="37" relation="include">
        </childnode>
      </node>
      <node id="2">
        <label>uvfr_utils.h</label>
        <link refid="uvfr__utils_8h"/>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="11" relation="include">
        </childnode>
        <childnode refid="12" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="29" relation="include">
        </childnode>
        <childnode refid="39" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
        <childnode refid="41" relation="include">
        </childnode>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="14" relation="include">
        </childnode>
        <childnode refid="42" relation="include">
        </childnode>
        <childnode refid="43" relation="include">
        </childnode>
        <childnode refid="44" relation="include">
        </childnode>
        <childnode refid="26" relation="include">
        </childnode>
        <childnode refid="45" relation="include">
        </childnode>
        <childnode refid="46" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="47" relation="include">
        </childnode>
        <childnode refid="48" relation="include">
        </childnode>
        <childnode refid="18" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="34" relation="include">
        </childnode>
        <childnode refid="15" relation="include">
        </childnode>
        <childnode refid="37" relation="include">
        </childnode>
        <childnode refid="30" relation="include">
        </childnode>
      </node>
      <node id="41">
        <label>uvfr_vehicle_commands.h</label>
        <link refid="uvfr__vehicle__commands_8h"/>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="2" relation="include">
        </childnode>
      </node>
      <node id="46">
        <label>uvfr_vehicle_logger.h</label>
        <link refid="uvfr__vehicle__logger_8h"/>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="29" relation="include">
        </childnode>
      </node>
      <node id="1">
        <label>Core/Src/uvfr_vehicle_logger.c</label>
        <link refid="uvfr__vehicle__logger_8c"/>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="29" relation="include">
        </childnode>
        <childnode refid="46" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
      </node>
      <node id="6">
        <label>stdarg.h</label>
      </node>
      <node id="16">
        <label>stddef.h</label>
      </node>
      <node id="17">
        <label>stdint.h</label>
      </node>
      <node id="23">
        <label>stdlib.h</label>
      </node>
      <node id="5">
        <label>stm32f4xx_hal.h</label>
      </node>
      <node id="40">
        <label>string.h</label>
      </node>
    </incdepgraph>
    <sectiondef kind="define">
      <memberdef kind="define" id="uvfr__vehicle__logger_8c_1ac4c8e6dfde87119d473a7a456723a685" prot="public" static="no">
        <name>MAX_LOG_ENTRIES</name>
        <initializer>32</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Core/Src/uvfr_vehicle_logger.c" line="21" column="9" bodyfile="Core/Src/uvfr_vehicle_logger.c" bodystart="21" bodyend="-1"/>
        <referencedby refid="uvfr__vehicle__logger_8h_1a6d1f4ece72fbe83dad38b2c6b2915d23" compoundref="uvfr__vehicle__logger_8c" startline="53" endline="55">getLogCount</referencedby>
        <referencedby refid="uvfr__vehicle__logger_8h_1aa83c417d242e0852d3da6e3df47252f0" compoundref="uvfr__vehicle__logger_8c" startline="97" endline="137">logVehicleFault</referencedby>
      </memberdef>
      <memberdef kind="define" id="uvfr__vehicle__logger_8c_1ac9f21673f6b5bab372190e049308fca1" prot="public" static="no">
        <name>LOG_DUMP_CAN_ID</name>
        <initializer>0x666</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Core/Src/uvfr_vehicle_logger.c" line="22" column="9" bodyfile="Core/Src/uvfr_vehicle_logger.c" bodystart="22" bodyend="-1"/>
        <referencedby refid="uvfr__vehicle__logger_8h_1aa94a06d1457baf8f7a2bdffc9bdb0f34" compoundref="uvfr__vehicle__logger_8c" startline="155" endline="183">flushLogsToCAN</referencedby>
      </memberdef>
    </sectiondef>
    <sectiondef kind="var">
      <memberdef kind="variable" id="uvfr__vehicle__logger_8c_1a0941ffaf550e6d8f8470cc42c8fd1c41" prot="public" static="yes" mutable="no">
        <type><ref refid="structvehicle__log__entry" kindref="compound">vehicle_log_entry</ref></type>
        <definition>vehicle_log_entry log_buffer[MAX_LOG_ENTRIES]</definition>
        <argsstring>[MAX_LOG_ENTRIES]</argsstring>
        <name>log_buffer</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Core/Src/uvfr_vehicle_logger.c" line="26" column="26" bodyfile="Core/Src/uvfr_vehicle_logger.c" bodystart="26" bodyend="-1"/>
        <referencedby refid="uvfr__vehicle__logger_8h_1ad631886dcbc57302eb94d953a0f0921e" compoundref="uvfr__vehicle__logger_8c" startline="60" endline="63">getLogEntry</referencedby>
        <referencedby refid="uvfr__vehicle__logger_8h_1aa83c417d242e0852d3da6e3df47252f0" compoundref="uvfr__vehicle__logger_8c" startline="97" endline="137">logVehicleFault</referencedby>
      </memberdef>
      <memberdef kind="variable" id="uvfr__vehicle__logger_8c_1a0f5ea1bc09b4dbb7670f89a4f395b7d9" prot="public" static="yes" mutable="no">
        <type>uint8_t</type>
        <definition>uint8_t log_write_index</definition>
        <argsstring></argsstring>
        <name>log_write_index</name>
        <initializer>= 0</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Core/Src/uvfr_vehicle_logger.c" line="27" column="16" bodyfile="Core/Src/uvfr_vehicle_logger.c" bodystart="27" bodyend="-1"/>
        <referencedby refid="uvfr__vehicle__logger_8h_1a6d1f4ece72fbe83dad38b2c6b2915d23" compoundref="uvfr__vehicle__logger_8c" startline="53" endline="55">getLogCount</referencedby>
        <referencedby refid="uvfr__vehicle__logger_8h_1aa83c417d242e0852d3da6e3df47252f0" compoundref="uvfr__vehicle__logger_8c" startline="97" endline="137">logVehicleFault</referencedby>
      </memberdef>
      <memberdef kind="variable" id="uvfr__vehicle__logger_8c_1af7d121ea6dd13e5e32a715d58c914d3d" prot="public" static="yes" mutable="no">
        <type><ref refid="uvfr__utils_8h_1a0ecf26b576b9a54eca656b9be7ba6a06" kindref="member">bool</ref></type>
        <definition>bool has_wrapped</definition>
        <argsstring></argsstring>
        <name>has_wrapped</name>
        <initializer>= <ref refid="group__utility__macros_1ga65e9886d74aaee76545e83dd09011727" kindref="member">false</ref></initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Core/Src/uvfr_vehicle_logger.c" line="28" column="13" bodyfile="Core/Src/uvfr_vehicle_logger.c" bodystart="28" bodyend="-1"/>
        <referencedby refid="uvfr__vehicle__logger_8h_1a6d1f4ece72fbe83dad38b2c6b2915d23" compoundref="uvfr__vehicle__logger_8c" startline="53" endline="55">getLogCount</referencedby>
        <referencedby refid="uvfr__vehicle__logger_8h_1aa83c417d242e0852d3da6e3df47252f0" compoundref="uvfr__vehicle__logger_8c" startline="97" endline="137">logVehicleFault</referencedby>
      </memberdef>
      <memberdef kind="variable" id="uvfr__vehicle__logger_8c_1af61b56038ed06c264d14a7449e68ff25" prot="public" static="yes" mutable="no">
        <type>uint32_t</type>
        <definition>uint32_t system_error_flags</definition>
        <argsstring></argsstring>
        <name>system_error_flags</name>
        <initializer>= 0</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Core/Src/uvfr_vehicle_logger.c" line="30" column="17" bodyfile="Core/Src/uvfr_vehicle_logger.c" bodystart="30" bodyend="-1"/>
        <referencedby refid="uvfr__vehicle__logger_8h_1ad3e144bde2ddbde7303c84f1212ce5bd" compoundref="uvfr__vehicle__logger_8c" startline="46" endline="48">clearSystemFaultFlags</referencedby>
        <referencedby refid="uvfr__vehicle__logger_8h_1a0740a0b8e0f90b9d10e5c6d833f354a1" compoundref="uvfr__vehicle__logger_8c" startline="39" endline="41">getSystemFaultFlags</referencedby>
        <referencedby refid="uvfr__vehicle__logger_8h_1aa83c417d242e0852d3da6e3df47252f0" compoundref="uvfr__vehicle__logger_8c" startline="97" endline="137">logVehicleFault</referencedby>
      </memberdef>
    </sectiondef>
    <sectiondef kind="func">
      <memberdef kind="function" id="uvfr__vehicle__logger_8c_1a0740a0b8e0f90b9d10e5c6d833f354a1" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>uint32_t</type>
        <definition>uint32_t getSystemFaultFlags</definition>
        <argsstring>(void)</argsstring>
        <name>getSystemFaultFlags</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>returns the current bitfield (1 bit per fault type) </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Core/Src/uvfr_vehicle_logger.c" line="39" column="10" bodyfile="Core/Src/uvfr_vehicle_logger.c" bodystart="39" bodyend="41"/>
        <references refid="uvfr__vehicle__logger_8c_1af61b56038ed06c264d14a7449e68ff25" compoundref="uvfr__vehicle__logger_8c" startline="30">system_error_flags</references>
      </memberdef>
      <memberdef kind="function" id="uvfr__vehicle__logger_8c_1ad3e144bde2ddbde7303c84f1212ce5bd" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void clearSystemFaultFlags</definition>
        <argsstring>(uint32_t flags_to_clear)</argsstring>
        <name>clearSystemFaultFlags</name>
        <param>
          <type>uint32_t</type>
          <declname>flags_to_clear</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>clears specific fault flags (set bits) from the bitfield </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Core/Src/uvfr_vehicle_logger.c" line="46" column="6" bodyfile="Core/Src/uvfr_vehicle_logger.c" bodystart="46" bodyend="48"/>
        <references refid="uvfr__vehicle__logger_8c_1af61b56038ed06c264d14a7449e68ff25" compoundref="uvfr__vehicle__logger_8c" startline="30">system_error_flags</references>
      </memberdef>
      <memberdef kind="function" id="uvfr__vehicle__logger_8c_1a6d1f4ece72fbe83dad38b2c6b2915d23" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>uint8_t</type>
        <definition>uint8_t getLogCount</definition>
        <argsstring>(void)</argsstring>
        <name>getLogCount</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>returns how many logs are stored right now </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Core/Src/uvfr_vehicle_logger.c" line="53" column="9" bodyfile="Core/Src/uvfr_vehicle_logger.c" bodystart="53" bodyend="55"/>
        <references refid="uvfr__vehicle__logger_8c_1af7d121ea6dd13e5e32a715d58c914d3d" compoundref="uvfr__vehicle__logger_8c" startline="28">has_wrapped</references>
        <references refid="uvfr__vehicle__logger_8c_1a0f5ea1bc09b4dbb7670f89a4f395b7d9" compoundref="uvfr__vehicle__logger_8c" startline="27">log_write_index</references>
        <references refid="uvfr__vehicle__logger_8c_1ac4c8e6dfde87119d473a7a456723a685" compoundref="uvfr__vehicle__logger_8c" startline="21">MAX_LOG_ENTRIES</references>
        <referencedby refid="uvfr__vehicle__logger_8h_1a112da491c6b8ff895e11674f28381e0e" compoundref="uvfr__vehicle__logger_8c" startline="68" endline="92">dumpLogsToUART</referencedby>
        <referencedby refid="uvfr__vehicle__logger_8h_1aa94a06d1457baf8f7a2bdffc9bdb0f34" compoundref="uvfr__vehicle__logger_8c" startline="155" endline="183">flushLogsToCAN</referencedby>
        <referencedby refid="uvfr__vehicle__logger_8h_1ad631886dcbc57302eb94d953a0f0921e" compoundref="uvfr__vehicle__logger_8c" startline="60" endline="63">getLogEntry</referencedby>
      </memberdef>
      <memberdef kind="function" id="uvfr__vehicle__logger_8c_1ad631886dcbc57302eb94d953a0f0921e" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>const <ref refid="structvehicle__log__entry" kindref="compound">vehicle_log_entry</ref> *</type>
        <definition>const vehicle_log_entry * getLogEntry</definition>
        <argsstring>(uint8_t index)</argsstring>
        <name>getLogEntry</name>
        <param>
          <type>uint8_t</type>
          <declname>index</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>returns a specific log entry by index </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Core/Src/uvfr_vehicle_logger.c" line="60" column="25" bodyfile="Core/Src/uvfr_vehicle_logger.c" bodystart="60" bodyend="63"/>
        <references refid="uvfr__vehicle__logger_8c_1a6d1f4ece72fbe83dad38b2c6b2915d23" compoundref="uvfr__vehicle__logger_8c" startline="53" endline="55">getLogCount</references>
        <references refid="uvfr__vehicle__logger_8c_1a0941ffaf550e6d8f8470cc42c8fd1c41" compoundref="uvfr__vehicle__logger_8c" startline="26">log_buffer</references>
        <referencedby refid="uvfr__vehicle__logger_8h_1a112da491c6b8ff895e11674f28381e0e" compoundref="uvfr__vehicle__logger_8c" startline="68" endline="92">dumpLogsToUART</referencedby>
        <referencedby refid="uvfr__vehicle__logger_8h_1aa94a06d1457baf8f7a2bdffc9bdb0f34" compoundref="uvfr__vehicle__logger_8c" startline="155" endline="183">flushLogsToCAN</referencedby>
      </memberdef>
      <memberdef kind="function" id="uvfr__vehicle__logger_8c_1a112da491c6b8ff895e11674f28381e0e" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void dumpLogsToUART</definition>
        <argsstring>(void)</argsstring>
        <name>dumpLogsToUART</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>prints all stored logs to UART (e.x, for debugging) </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Core/Src/uvfr_vehicle_logger.c" line="68" column="6" bodyfile="Core/Src/uvfr_vehicle_logger.c" bodystart="68" bodyend="92"/>
        <references refid="structvehicle__log__entry_1aa045ebfadf3af6e772a97d19ffcff6e2" compoundref="uvfr__vehicle__logger_8h" startline="47">vehicle_log_entry::file</references>
        <references refid="structvehicle__log__entry_1a8afe7e7d305d6ee77418d8d94c960d7d" compoundref="uvfr__vehicle__logger_8h" startline="49">vehicle_log_entry::func</references>
        <references refid="uvfr__vehicle__logger_8c_1a6d1f4ece72fbe83dad38b2c6b2915d23" compoundref="uvfr__vehicle__logger_8c" startline="53" endline="55">getLogCount</references>
        <references refid="uvfr__vehicle__logger_8c_1ad631886dcbc57302eb94d953a0f0921e" compoundref="uvfr__vehicle__logger_8c" startline="60" endline="63">getLogEntry</references>
        <references refid="structvehicle__log__entry_1ae7cfae9ef05802b02614f1ce7b8596fe" compoundref="uvfr__vehicle__logger_8h" startline="50">vehicle_log_entry::is_panic</references>
        <references refid="structvehicle__log__entry_1add39f449b3658225f7faef8b618b327f" compoundref="uvfr__vehicle__logger_8h" startline="48">vehicle_log_entry::line</references>
        <references refid="structvehicle__log__entry_1a3c8f5fde598bc99068f6851fb5133067" compoundref="uvfr__vehicle__logger_8h" startline="45">vehicle_log_entry::msg</references>
        <references refid="structvehicle__log__entry_1aa17e7db006bc0de1bddd3ed2a1cdf6a7" compoundref="uvfr__vehicle__logger_8h" startline="51">vehicle_log_entry::task_id</references>
        <references refid="structvehicle__log__entry_1a75874c172e9253e9b94d2fa734a7233b" compoundref="uvfr__vehicle__logger_8h" startline="44">vehicle_log_entry::task_name</references>
        <references refid="structvehicle__log__entry_1a4dfb224c8d890d250d302709cf83ae69" compoundref="uvfr__vehicle__logger_8h" startline="53">vehicle_log_entry::task_state</references>
        <references refid="structvehicle__log__entry_1afb5fcca2f15d7640978cdb1d0061b6cd" compoundref="uvfr__vehicle__logger_8h" startline="46">vehicle_log_entry::timestamp</references>
        <references refid="structvehicle__log__entry_1aceb0c65f1e1c3efef4292b87c469f2e6" compoundref="uvfr__vehicle__logger_8h" startline="43">vehicle_log_entry::type</references>
        <references refid="structvehicle__log__entry_1a9c648444d73ab677e9e887420c549c59" compoundref="uvfr__vehicle__logger_8h" startline="52">vehicle_log_entry::vehicle_state</references>
      </memberdef>
      <memberdef kind="function" id="uvfr__vehicle__logger_8c_1aa83c417d242e0852d3da6e3df47252f0" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void logVehicleFault</definition>
        <argsstring>(fault_event_type_e type, uv_task_info *task, const char *msg, const char *file, int line, const char *func, bool is_panic)</argsstring>
        <name>logVehicleFault</name>
        <param>
          <type><ref refid="uvfr__vehicle__logger_8h_1a6678121815d6405973fdc68812442fc7" kindref="member">fault_event_type_e</ref></type>
          <declname>type</declname>
        </param>
        <param>
          <type><ref refid="structuv__task__info" kindref="compound">uv_task_info</ref> *</type>
          <declname>task</declname>
        </param>
        <param>
          <type>const char *</type>
          <declname>msg</declname>
        </param>
        <param>
          <type>const char *</type>
          <declname>file</declname>
        </param>
        <param>
          <type>int</type>
          <declname>line</declname>
        </param>
        <param>
          <type>const char *</type>
          <declname>func</declname>
        </param>
        <param>
          <type><ref refid="uvfr__utils_8h_1a0ecf26b576b9a54eca656b9be7ba6a06" kindref="member">bool</ref></type>
          <declname>is_panic</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>adds a new log entry for a fault or error. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Core/Src/uvfr_vehicle_logger.c" line="97" column="6" bodyfile="Core/Src/uvfr_vehicle_logger.c" bodystart="97" bodyend="137"/>
        <references refid="structvehicle__log__entry_1aa045ebfadf3af6e772a97d19ffcff6e2" compoundref="uvfr__vehicle__logger_8h" startline="47">vehicle_log_entry::file</references>
        <references refid="structvehicle__log__entry_1a8afe7e7d305d6ee77418d8d94c960d7d" compoundref="uvfr__vehicle__logger_8h" startline="49">vehicle_log_entry::func</references>
        <references refid="uvfr__vehicle__logger_8c_1af7d121ea6dd13e5e32a715d58c914d3d" compoundref="uvfr__vehicle__logger_8c" startline="28">has_wrapped</references>
        <references refid="structvehicle__log__entry_1ae7cfae9ef05802b02614f1ce7b8596fe" compoundref="uvfr__vehicle__logger_8h" startline="50">vehicle_log_entry::is_panic</references>
        <references refid="structvehicle__log__entry_1add39f449b3658225f7faef8b618b327f" compoundref="uvfr__vehicle__logger_8h" startline="48">vehicle_log_entry::line</references>
        <references refid="uvfr__vehicle__logger_8c_1a0941ffaf550e6d8f8470cc42c8fd1c41" compoundref="uvfr__vehicle__logger_8c" startline="26">log_buffer</references>
        <references refid="uvfr__vehicle__logger_8c_1a0f5ea1bc09b4dbb7670f89a4f395b7d9" compoundref="uvfr__vehicle__logger_8c" startline="27">log_write_index</references>
        <references refid="uvfr__vehicle__logger_8c_1ac4c8e6dfde87119d473a7a456723a685" compoundref="uvfr__vehicle__logger_8c" startline="21">MAX_LOG_ENTRIES</references>
        <references refid="structvehicle__log__entry_1a3c8f5fde598bc99068f6851fb5133067" compoundref="uvfr__vehicle__logger_8h" startline="45">vehicle_log_entry::msg</references>
        <references refid="uvfr__vehicle__logger_8c_1af61b56038ed06c264d14a7449e68ff25" compoundref="uvfr__vehicle__logger_8c" startline="30">system_error_flags</references>
        <references refid="structuv__task__info_1a8ed5c619d9eea62c2beb08fa2db6b092" compoundref="uvfr__state__engine_8h" startline="228">uv_task_info::task_id</references>
        <references refid="structvehicle__log__entry_1aa17e7db006bc0de1bddd3ed2a1cdf6a7" compoundref="uvfr__vehicle__logger_8h" startline="51">vehicle_log_entry::task_id</references>
        <references refid="structuv__task__info_1ad24b438130bb3098ee5e855222dff21d" compoundref="uvfr__state__engine_8h" startline="229">uv_task_info::task_name</references>
        <references refid="structvehicle__log__entry_1a75874c172e9253e9b94d2fa734a7233b" compoundref="uvfr__vehicle__logger_8h" startline="44">vehicle_log_entry::task_name</references>
        <references refid="structuv__task__info_1a43e5b3136b38dde4272aa510c5349ba3" compoundref="uvfr__state__engine_8h" startline="243">uv_task_info::task_state</references>
        <references refid="structvehicle__log__entry_1a4dfb224c8d890d250d302709cf83ae69" compoundref="uvfr__vehicle__logger_8h" startline="53">vehicle_log_entry::task_state</references>
        <references refid="structvehicle__log__entry_1afb5fcca2f15d7640978cdb1d0061b6cd" compoundref="uvfr__vehicle__logger_8h" startline="46">vehicle_log_entry::timestamp</references>
        <references refid="structvehicle__log__entry_1aceb0c65f1e1c3efef4292b87c469f2e6" compoundref="uvfr__vehicle__logger_8h" startline="43">vehicle_log_entry::type</references>
        <references refid="group__state__engine__api_1ggac94b6bd11853173599ccff034055cc88a529c3f9ad3ef9a8e387d875c7a118c7e" compoundref="uvfr__state__engine_8h" startline="132">UV_TASK_NOT_STARTED</references>
        <references refid="structvehicle__log__entry_1a9c648444d73ab677e9e887420c549c59" compoundref="uvfr__vehicle__logger_8h" startline="52">vehicle_log_entry::vehicle_state</references>
        <references refid="group__state__engine_1ga2f58cf65b3566bc390600f877f8bed35" compoundref="uvfr__state__engine_8c" startline="38">vehicle_state</references>
        <references refid="task_8h_1a753ecfe23e7386066ecccad5d16422f7" compoundref="tasks_8c" startline="2303" endline="2315">xTaskGetTickCount</references>
        <referencedby refid="group__state__engine__backend_1ga6d712c440ee3ae92eae5d820f4745eb9" compoundref="uvfr__state__engine_8c" startline="708" endline="717">__uvPanic</referencedby>
      </memberdef>
      <memberdef kind="function" id="uvfr__vehicle__logger_8c_1aa94a06d1457baf8f7a2bdffc9bdb0f34" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void flushLogsToCAN</definition>
        <argsstring>(void)</argsstring>
        <name>flushLogsToCAN</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Flush all current log entries out over CAN for diagnostic laptop tools. Each entry is sent as a single compact CAN frame.</para>
<para>Frame layout: ID = LOG_DUMP_CAN_ID DLC = 8 Byte 0 : fault type Byte 1 : timestamp LSB Byte 2 : timestamp MSB Byte 3 : task ID Byte 4 : is_panic flag Byte 5 : vehicle_state Byte 6 : reserved (0) Byte 7 : reserved (0) </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Core/Src/uvfr_vehicle_logger.c" line="155" column="6" bodyfile="Core/Src/uvfr_vehicle_logger.c" bodystart="155" bodyend="183"/>
        <references refid="structuv___c_a_n__msg_1aec63cc112176da7895d0cfc8b32e6935" compoundref="uvfr__utils_8h" startline="289">uv_CAN_msg::data</references>
        <references refid="structuv___c_a_n__msg_1aa74af3745c8b56910d7c309245541d37" compoundref="uvfr__utils_8h" startline="287">uv_CAN_msg::dlc</references>
        <references refid="structuv___c_a_n__msg_1a3a3fdc7fed06a631fefa58ea44052d8d" compoundref="uvfr__utils_8h" startline="283">uv_CAN_msg::flags</references>
        <references refid="uvfr__vehicle__logger_8c_1a6d1f4ece72fbe83dad38b2c6b2915d23" compoundref="uvfr__vehicle__logger_8c" startline="53" endline="55">getLogCount</references>
        <references refid="uvfr__vehicle__logger_8c_1ad631886dcbc57302eb94d953a0f0921e" compoundref="uvfr__vehicle__logger_8c" startline="60" endline="63">getLogEntry</references>
        <references refid="structvehicle__log__entry_1ae7cfae9ef05802b02614f1ce7b8596fe" compoundref="uvfr__vehicle__logger_8h" startline="50">vehicle_log_entry::is_panic</references>
        <references refid="uvfr__vehicle__logger_8c_1ac9f21673f6b5bab372190e049308fca1" compoundref="uvfr__vehicle__logger_8c" startline="22">LOG_DUMP_CAN_ID</references>
        <references refid="structuv___c_a_n__msg_1aae369fbabe3cc5b71a89bb641c24aace" compoundref="uvfr__utils_8h" startline="288">uv_CAN_msg::msg_id</references>
        <references refid="cmsis__os_8c_1a02e19d5e723bfb06ba9324d625162255" compoundref="cmsis__os_8c" startline="323" endline="336">osDelay</references>
        <references refid="structvehicle__log__entry_1aa17e7db006bc0de1bddd3ed2a1cdf6a7" compoundref="uvfr__vehicle__logger_8h" startline="51">vehicle_log_entry::task_id</references>
        <references refid="structvehicle__log__entry_1afb5fcca2f15d7640978cdb1d0061b6cd" compoundref="uvfr__vehicle__logger_8h" startline="46">vehicle_log_entry::timestamp</references>
        <references refid="structvehicle__log__entry_1aceb0c65f1e1c3efef4292b87c469f2e6" compoundref="uvfr__vehicle__logger_8h" startline="43">vehicle_log_entry::type</references>
        <references refid="group__uvfr__can__api_1ga62414944c3b631f57fdd08e467bcf5a4" compoundref="can_8c" startline="864" endline="910">uvSendCanMSG</references>
        <references refid="structvehicle__log__entry_1a9c648444d73ab677e9e887420c549c59" compoundref="uvfr__vehicle__logger_8h" startline="52">vehicle_log_entry::vehicle_state</references>
        <referencedby refid="uvfr__settings_8c_1afa15631878f6d936a1143656f88f3620" compoundref="uvfr__settings_8c" startline="160" endline="244">handleIncomingLaptopMsg</referencedby>
      </memberdef>
    </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">/*</highlight></codeline>
<codeline lineno="2"><highlight class="comment"><sp/>*<sp/>uvfr_vehicle_logger.c</highlight></codeline>
<codeline lineno="3"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="4"><highlight class="comment"><sp/>*<sp/><sp/>Created<sp/>on:<sp/>Jul<sp/>6,<sp/>2025</highlight></codeline>
<codeline lineno="5"><highlight class="comment"><sp/>*<sp/><sp/>Author:<sp/>Rachan<sp/>Grewal</highlight></codeline>
<codeline lineno="6"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="7"><highlight class="comment"><sp/>*<sp/><sp/>This<sp/>file<sp/>logs<sp/>vehicle<sp/>faults,<sp/>panics,<sp/>and<sp/>task<sp/>errors.</highlight></codeline>
<codeline lineno="8"><highlight class="comment"><sp/>*<sp/><sp/>It<sp/>keeps<sp/>a<sp/>short<sp/>history<sp/>in<sp/>memory<sp/>(circular<sp/>buffer),</highlight></codeline>
<codeline lineno="9"><highlight class="comment"><sp/>*<sp/><sp/>and<sp/>uses<sp/>a<sp/>bitfield<sp/>to<sp/>track<sp/>which<sp/>errors<sp/>have<sp/>ever<sp/>happened.</highlight></codeline>
<codeline lineno="10"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="uvfr__utils_8h" kindref="compound">uvfr_utils.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="uvfr__state__engine_8h" kindref="compound">uvfr_state_engine.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="uvfr__vehicle__logger_8h" kindref="compound">uvfr_vehicle_logger.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="can_8h" kindref="compound">can.h</ref>&quot;</highlight><highlight class="normal"><sp/></highlight><highlight class="comment">//<sp/>for<sp/>uv_can_transmit()</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="17"><highlight class="normal"></highlight></codeline>
<codeline lineno="18"><highlight class="normal"></highlight></codeline>
<codeline lineno="19"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Logger<sp/>Configuration</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight></codeline>
<codeline lineno="21" refid="uvfr__vehicle__logger_8c_1ac4c8e6dfde87119d473a7a456723a685" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MAX_LOG_ENTRIES<sp/>32<sp/><sp/></highlight><highlight class="comment">//<sp/>max<sp/>#<sp/>of<sp/>stored</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="22" refid="uvfr__vehicle__logger_8c_1ac9f21673f6b5bab372190e049308fca1" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>LOG_DUMP_CAN_ID<sp/>0x666<sp/></highlight><highlight class="comment">//<sp/>CAN<sp/>ID<sp/>for<sp/>diagnostic<sp/>dump</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight></codeline>
<codeline lineno="24"><highlight class="normal"></highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Logger<sp/>Storage</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="26" refid="uvfr__vehicle__logger_8c_1a0941ffaf550e6d8f8470cc42c8fd1c41" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="structvehicle__log__entry" kindref="compound">vehicle_log_entry</ref><sp/><ref refid="uvfr__vehicle__logger_8c_1a0941ffaf550e6d8f8470cc42c8fd1c41" kindref="member">log_buffer</ref>[<ref refid="uvfr__vehicle__logger_8c_1ac4c8e6dfde87119d473a7a456723a685" kindref="member">MAX_LOG_ENTRIES</ref>];<sp/></highlight><highlight class="comment">//<sp/>log<sp/>storage</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="27" refid="uvfr__vehicle__logger_8c_1a0f5ea1bc09b4dbb7670f89a4f395b7d9" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>uint8_t<sp/><ref refid="uvfr__vehicle__logger_8c_1a0f5ea1bc09b4dbb7670f89a4f395b7d9" kindref="member">log_write_index</ref><sp/>=<sp/>0;<sp/><sp/></highlight><highlight class="comment">//<sp/>where<sp/>to<sp/>write<sp/>next</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="28" refid="uvfr__vehicle__logger_8c_1af7d121ea6dd13e5e32a715d58c914d3d" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="uvfr__vehicle__logger_8c_1af7d121ea6dd13e5e32a715d58c914d3d" kindref="member">has_wrapped</ref><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;<sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>has<sp/>buffer<sp/>wrapped?</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="29"><highlight class="normal"></highlight></codeline>
<codeline lineno="30" refid="uvfr__vehicle__logger_8c_1af61b56038ed06c264d14a7449e68ff25" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>uint32_t<sp/><ref refid="uvfr__vehicle__logger_8c_1af61b56038ed06c264d14a7449e68ff25" kindref="member">system_error_flags</ref><sp/>=<sp/>0;<sp/></highlight><highlight class="comment">//<sp/>Bitfield:<sp/>which<sp/>faults<sp/>have<sp/>occurred?</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="31"><highlight class="normal"></highlight></codeline>
<codeline lineno="32"><highlight class="normal"></highlight></codeline>
<codeline lineno="33"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Logger<sp/>APIs</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="34"><highlight class="normal"></highlight></codeline>
<codeline lineno="35"><highlight class="normal"></highlight></codeline>
<codeline lineno="39" refid="uvfr__vehicle__logger_8h_1a0740a0b8e0f90b9d10e5c6d833f354a1" refkind="member"><highlight class="normal">uint32_t<sp/><ref refid="uvfr__vehicle__logger_8c_1a0740a0b8e0f90b9d10e5c6d833f354a1" kindref="member">getSystemFaultFlags</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)<sp/>{</highlight></codeline>
<codeline lineno="40"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="uvfr__vehicle__logger_8c_1af61b56038ed06c264d14a7449e68ff25" kindref="member">system_error_flags</ref>;</highlight></codeline>
<codeline lineno="41"><highlight class="normal">}</highlight></codeline>
<codeline lineno="42"><highlight class="normal"></highlight></codeline>
<codeline lineno="46" refid="uvfr__vehicle__logger_8h_1ad3e144bde2ddbde7303c84f1212ce5bd" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="uvfr__vehicle__logger_8c_1ad3e144bde2ddbde7303c84f1212ce5bd" kindref="member">clearSystemFaultFlags</ref>(uint32_t<sp/>flags_to_clear)<sp/>{</highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="uvfr__vehicle__logger_8c_1af61b56038ed06c264d14a7449e68ff25" kindref="member">system_error_flags</ref><sp/>&amp;=<sp/>~flags_to_clear;</highlight></codeline>
<codeline lineno="48"><highlight class="normal">}</highlight></codeline>
<codeline lineno="49"><highlight class="normal"></highlight></codeline>
<codeline lineno="53" refid="uvfr__vehicle__logger_8h_1a6d1f4ece72fbe83dad38b2c6b2915d23" refkind="member"><highlight class="normal">uint8_t<sp/><ref refid="uvfr__vehicle__logger_8c_1a6d1f4ece72fbe83dad38b2c6b2915d23" kindref="member">getLogCount</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)<sp/>{</highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="uvfr__vehicle__logger_8c_1af7d121ea6dd13e5e32a715d58c914d3d" kindref="member">has_wrapped</ref><sp/>?<sp/><ref refid="uvfr__vehicle__logger_8c_1ac4c8e6dfde87119d473a7a456723a685" kindref="member">MAX_LOG_ENTRIES</ref><sp/>:<sp/><ref refid="uvfr__vehicle__logger_8c_1a0f5ea1bc09b4dbb7670f89a4f395b7d9" kindref="member">log_write_index</ref>;</highlight></codeline>
<codeline lineno="55"><highlight class="normal">}</highlight></codeline>
<codeline lineno="56"><highlight class="normal"></highlight></codeline>
<codeline lineno="60" refid="uvfr__vehicle__logger_8h_1ad631886dcbc57302eb94d953a0f0921e" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structvehicle__log__entry" kindref="compound">vehicle_log_entry</ref>*<sp/><ref refid="uvfr__vehicle__logger_8c_1ad631886dcbc57302eb94d953a0f0921e" kindref="member">getLogEntry</ref>(uint8_t<sp/>index)<sp/>{</highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(index<sp/>&gt;=<sp/><ref refid="uvfr__vehicle__logger_8c_1a6d1f4ece72fbe83dad38b2c6b2915d23" kindref="member">getLogCount</ref>())<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>NULL;</highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>&amp;<ref refid="uvfr__vehicle__logger_8c_1a0941ffaf550e6d8f8470cc42c8fd1c41" kindref="member">log_buffer</ref>[index];</highlight></codeline>
<codeline lineno="63"><highlight class="normal">}</highlight></codeline>
<codeline lineno="64"><highlight class="normal"></highlight></codeline>
<codeline lineno="68" refid="uvfr__vehicle__logger_8h_1a112da491c6b8ff895e11674f28381e0e" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="uvfr__vehicle__logger_8c_1a112da491c6b8ff895e11674f28381e0e" kindref="member">dumpLogsToUART</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)<sp/>{</highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/>uint8_t<sp/>count<sp/>=<sp/><ref refid="uvfr__vehicle__logger_8c_1a6d1f4ece72fbe83dad38b2c6b2915d23" kindref="member">getLogCount</ref>();</highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(uint8_t<sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>count;<sp/>i++)<sp/>{</highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structvehicle__log__entry" kindref="compound">vehicle_log_entry</ref>*<sp/>entry<sp/>=<sp/><ref refid="uvfr__vehicle__logger_8c_1ad631886dcbc57302eb94d953a0f0921e" kindref="member">getLogEntry</ref>(i);</highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(entry<sp/>!=<sp/>NULL)<sp/>{</highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;[LOG<sp/>%02d]<sp/>Time=%lu<sp/>ticks<sp/>|<sp/>Type=%d<sp/>|<sp/>Task=%s\n&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Msg=\&quot;%s\&quot;\n&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>File:<sp/>%s:%d<sp/>(%s)\n&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Panic=%s<sp/>|<sp/>State=%d<sp/>|<sp/>ID=%d<sp/>|<sp/>TaskState=%d\n\n&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>i,</highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>entry-&gt;<ref refid="structvehicle__log__entry_1afb5fcca2f15d7640978cdb1d0061b6cd" kindref="member">timestamp</ref>,</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>entry-&gt;<ref refid="structvehicle__log__entry_1aceb0c65f1e1c3efef4292b87c469f2e6" kindref="member">type</ref>,</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>entry-&gt;<ref refid="structvehicle__log__entry_1a75874c172e9253e9b94d2fa734a7233b" kindref="member">task_name</ref><sp/>?<sp/>entry-&gt;<ref refid="structvehicle__log__entry_1a75874c172e9253e9b94d2fa734a7233b" kindref="member">task_name</ref><sp/>:<sp/></highlight><highlight class="stringliteral">&quot;None&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>entry-&gt;<ref refid="structvehicle__log__entry_1a3c8f5fde598bc99068f6851fb5133067" kindref="member">msg</ref>,</highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>entry-&gt;<ref refid="structvehicle__log__entry_1aa045ebfadf3af6e772a97d19ffcff6e2" kindref="member">file</ref>,</highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>entry-&gt;<ref refid="structvehicle__log__entry_1add39f449b3658225f7faef8b618b327f" kindref="member">line</ref>,</highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>entry-&gt;<ref refid="structvehicle__log__entry_1a8afe7e7d305d6ee77418d8d94c960d7d" kindref="member">func</ref>,</highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>entry-&gt;<ref refid="structvehicle__log__entry_1ae7cfae9ef05802b02614f1ce7b8596fe" kindref="member">is_panic</ref><sp/>?<sp/></highlight><highlight class="stringliteral">&quot;YES&quot;</highlight><highlight class="normal"><sp/>:<sp/></highlight><highlight class="stringliteral">&quot;NO&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>entry-&gt;<ref refid="structvehicle__log__entry_1a9c648444d73ab677e9e887420c549c59" kindref="member">vehicle_state</ref>,</highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>entry-&gt;<ref refid="structvehicle__log__entry_1aa17e7db006bc0de1bddd3ed2a1cdf6a7" kindref="member">task_id</ref>,</highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>entry-&gt;<ref refid="structvehicle__log__entry_1a4dfb224c8d890d250d302709cf83ae69" kindref="member">task_state</ref></highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>);</highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="92"><highlight class="normal">}</highlight></codeline>
<codeline lineno="93"><highlight class="normal"></highlight></codeline>
<codeline lineno="97" refid="uvfr__vehicle__logger_8h_1aa83c417d242e0852d3da6e3df47252f0" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="uvfr__vehicle__logger_8c_1aa83c417d242e0852d3da6e3df47252f0" kindref="member">logVehicleFault</ref>(<ref refid="uvfr__vehicle__logger_8h_1a6678121815d6405973fdc68812442fc7" kindref="member">fault_event_type_e</ref><sp/>type,</highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structuv__task__info" kindref="compound">uv_task_info</ref>*<sp/>task,</highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>msg,</highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>file,</highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>line,</highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>func,</highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>is_panic)</highlight></codeline>
<codeline lineno="104"><highlight class="normal">{</highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Mark<sp/>this<sp/>fault<sp/>type<sp/>as<sp/>&quot;occurred&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="uvfr__vehicle__logger_8c_1af61b56038ed06c264d14a7449e68ff25" kindref="member">system_error_flags</ref><sp/>|=<sp/>(1U<sp/>&lt;&lt;<sp/>type);</highlight></codeline>
<codeline lineno="107"><highlight class="normal"></highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Write<sp/>into<sp/>next<sp/>log<sp/>slot</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structvehicle__log__entry" kindref="compound">vehicle_log_entry</ref>*<sp/>entry<sp/>=<sp/>&amp;<ref refid="uvfr__vehicle__logger_8c_1a0941ffaf550e6d8f8470cc42c8fd1c41" kindref="member">log_buffer</ref>[<ref refid="uvfr__vehicle__logger_8c_1a0f5ea1bc09b4dbb7670f89a4f395b7d9" kindref="member">log_write_index</ref>];</highlight></codeline>
<codeline lineno="110"><highlight class="normal"></highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/>entry-&gt;<ref refid="structvehicle__log__entry_1aceb0c65f1e1c3efef4292b87c469f2e6" kindref="member">type</ref><sp/>=<sp/>type;</highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/>entry-&gt;<ref refid="structvehicle__log__entry_1a3c8f5fde598bc99068f6851fb5133067" kindref="member">msg</ref><sp/>=<sp/>msg;</highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/>entry-&gt;<ref refid="structvehicle__log__entry_1aa045ebfadf3af6e772a97d19ffcff6e2" kindref="member">file</ref><sp/>=<sp/>file;</highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/>entry-&gt;<ref refid="structvehicle__log__entry_1add39f449b3658225f7faef8b618b327f" kindref="member">line</ref><sp/>=<sp/>line;</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/>entry-&gt;<ref refid="structvehicle__log__entry_1a8afe7e7d305d6ee77418d8d94c960d7d" kindref="member">func</ref><sp/>=<sp/>func;</highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/><sp/><sp/>entry-&gt;<ref refid="structvehicle__log__entry_1ae7cfae9ef05802b02614f1ce7b8596fe" kindref="member">is_panic</ref><sp/>=<sp/>is_panic;</highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/>entry-&gt;<ref refid="structvehicle__log__entry_1afb5fcca2f15d7640978cdb1d0061b6cd" kindref="member">timestamp</ref><sp/>=<sp/><ref refid="task_8h_1a753ecfe23e7386066ecccad5d16422f7" kindref="member">xTaskGetTickCount</ref>();</highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/>entry-&gt;<ref refid="structvehicle__log__entry_1a9c648444d73ab677e9e887420c549c59" kindref="member">vehicle_state</ref><sp/>=<sp/><ref refid="group__state__engine_1ga2f58cf65b3566bc390600f877f8bed35" kindref="member">vehicle_state</ref>;</highlight></codeline>
<codeline lineno="119"><highlight class="normal"></highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Add<sp/>task<sp/>info<sp/>(if<sp/>task<sp/>is<sp/>valid)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(task<sp/>!=<sp/>NULL)<sp/>{</highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>entry-&gt;<ref refid="structvehicle__log__entry_1a75874c172e9253e9b94d2fa734a7233b" kindref="member">task_name</ref><sp/>=<sp/>task-&gt;<ref refid="structuv__task__info_1ad24b438130bb3098ee5e855222dff21d" kindref="member">task_name</ref>;</highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>entry-&gt;<ref refid="structvehicle__log__entry_1aa17e7db006bc0de1bddd3ed2a1cdf6a7" kindref="member">task_id</ref><sp/>=<sp/>task-&gt;<ref refid="structuv__task__info_1a8ed5c619d9eea62c2beb08fa2db6b092" kindref="member">task_id</ref>;</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>entry-&gt;<ref refid="structvehicle__log__entry_1a4dfb224c8d890d250d302709cf83ae69" kindref="member">task_state</ref><sp/>=<sp/>task-&gt;<ref refid="structuv__task__info_1a43e5b3136b38dde4272aa510c5349ba3" kindref="member">task_state</ref>;</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>entry-&gt;<ref refid="structvehicle__log__entry_1a75874c172e9253e9b94d2fa734a7233b" kindref="member">task_name</ref><sp/>=<sp/></highlight><highlight class="stringliteral">&quot;None&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>entry-&gt;<ref refid="structvehicle__log__entry_1aa17e7db006bc0de1bddd3ed2a1cdf6a7" kindref="member">task_id</ref><sp/>=<sp/>0xFF;</highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>entry-&gt;<ref refid="structvehicle__log__entry_1a4dfb224c8d890d250d302709cf83ae69" kindref="member">task_state</ref><sp/>=<sp/><ref refid="group__state__engine__api_1ggac94b6bd11853173599ccff034055cc88a529c3f9ad3ef9a8e387d875c7a118c7e" kindref="member">UV_TASK_NOT_STARTED</ref>;</highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="130"><highlight class="normal"></highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Move<sp/>to<sp/>next<sp/>slot</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="uvfr__vehicle__logger_8c_1a0f5ea1bc09b4dbb7670f89a4f395b7d9" kindref="member">log_write_index</ref>++;</highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="uvfr__vehicle__logger_8c_1a0f5ea1bc09b4dbb7670f89a4f395b7d9" kindref="member">log_write_index</ref><sp/>&gt;=<sp/><ref refid="uvfr__vehicle__logger_8c_1ac4c8e6dfde87119d473a7a456723a685" kindref="member">MAX_LOG_ENTRIES</ref>)<sp/>{</highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="uvfr__vehicle__logger_8c_1a0f5ea1bc09b4dbb7670f89a4f395b7d9" kindref="member">log_write_index</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="uvfr__vehicle__logger_8c_1af7d121ea6dd13e5e32a715d58c914d3d" kindref="member">has_wrapped</ref><sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="137"><highlight class="normal">}</highlight></codeline>
<codeline lineno="138"><highlight class="normal"></highlight></codeline>
<codeline lineno="155" refid="uvfr__vehicle__logger_8h_1aa94a06d1457baf8f7a2bdffc9bdb0f34" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="uvfr__vehicle__logger_8c_1aa94a06d1457baf8f7a2bdffc9bdb0f34" kindref="member">flushLogsToCAN</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="156"><highlight class="normal">{</highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/>uint8_t<sp/>count<sp/>=<sp/><ref refid="uvfr__vehicle__logger_8c_1a6d1f4ece72fbe83dad38b2c6b2915d23" kindref="member">getLogCount</ref>();</highlight></codeline>
<codeline lineno="158"><highlight class="normal"></highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(uint8_t<sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>count;<sp/>i++)</highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structvehicle__log__entry" kindref="compound">vehicle_log_entry</ref>*<sp/>entry<sp/>=<sp/><ref refid="uvfr__vehicle__logger_8c_1ad631886dcbc57302eb94d953a0f0921e" kindref="member">getLogEntry</ref>(i);</highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(entry<sp/>==<sp/>NULL)<sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="163"><highlight class="normal"></highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structuv___c_a_n__msg" kindref="compound">uv_CAN_msg</ref><sp/>msg;</highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>msg.<ref refid="structuv___c_a_n__msg_1aae369fbabe3cc5b71a89bb641c24aace" kindref="member">msg_id</ref><sp/>=<sp/><ref refid="uvfr__vehicle__logger_8c_1ac9f21673f6b5bab372190e049308fca1" kindref="member">LOG_DUMP_CAN_ID</ref>;</highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>msg.<ref refid="structuv___c_a_n__msg_1aa74af3745c8b56910d7c309245541d37" kindref="member">dlc</ref><sp/><sp/><sp/><sp/>=<sp/>8;</highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>msg.<ref refid="structuv___c_a_n__msg_1a3a3fdc7fed06a631fefa58ea44052d8d" kindref="member">flags</ref><sp/>=<sp/>0x00;</highlight></codeline>
<codeline lineno="168"><highlight class="normal"></highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>msg.<ref refid="structuv___c_a_n__msg_1aec63cc112176da7895d0cfc8b32e6935" kindref="member">data</ref>[0]<sp/>=<sp/>(uint8_t)entry-&gt;<ref refid="structvehicle__log__entry_1aceb0c65f1e1c3efef4292b87c469f2e6" kindref="member">type</ref>;</highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>msg.<ref refid="structuv___c_a_n__msg_1aec63cc112176da7895d0cfc8b32e6935" kindref="member">data</ref>[1]<sp/>=<sp/>(uint8_t)(entry-&gt;<ref refid="structvehicle__log__entry_1afb5fcca2f15d7640978cdb1d0061b6cd" kindref="member">timestamp</ref><sp/>&amp;<sp/>0xFF);</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>msg.<ref refid="structuv___c_a_n__msg_1aec63cc112176da7895d0cfc8b32e6935" kindref="member">data</ref>[2]<sp/>=<sp/>(uint8_t)((entry-&gt;<ref refid="structvehicle__log__entry_1afb5fcca2f15d7640978cdb1d0061b6cd" kindref="member">timestamp</ref><sp/>&gt;&gt;<sp/>8)<sp/>&amp;<sp/>0xFF);</highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>msg.<ref refid="structuv___c_a_n__msg_1aec63cc112176da7895d0cfc8b32e6935" kindref="member">data</ref>[3]<sp/>=<sp/>(uint8_t)((entry-&gt;<ref refid="structvehicle__log__entry_1afb5fcca2f15d7640978cdb1d0061b6cd" kindref="member">timestamp</ref><sp/>&gt;&gt;<sp/>16)<sp/>&amp;<sp/>0xFF);</highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>msg.<ref refid="structuv___c_a_n__msg_1aec63cc112176da7895d0cfc8b32e6935" kindref="member">data</ref>[4]<sp/>=<sp/>(uint8_t)((entry-&gt;<ref refid="structvehicle__log__entry_1afb5fcca2f15d7640978cdb1d0061b6cd" kindref="member">timestamp</ref><sp/>&gt;&gt;<sp/>24)<sp/>&amp;<sp/>0xFF);</highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>msg.<ref refid="structuv___c_a_n__msg_1aec63cc112176da7895d0cfc8b32e6935" kindref="member">data</ref>[5]<sp/>=<sp/>(uint8_t)entry-&gt;<ref refid="structvehicle__log__entry_1aa17e7db006bc0de1bddd3ed2a1cdf6a7" kindref="member">task_id</ref>;</highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>msg.<ref refid="structuv___c_a_n__msg_1aec63cc112176da7895d0cfc8b32e6935" kindref="member">data</ref>[6]<sp/>=<sp/>(uint8_t)entry-&gt;<ref refid="structvehicle__log__entry_1ae7cfae9ef05802b02614f1ce7b8596fe" kindref="member">is_panic</ref>;</highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>msg.<ref refid="structuv___c_a_n__msg_1aec63cc112176da7895d0cfc8b32e6935" kindref="member">data</ref>[7]<sp/>=<sp/>(uint8_t)entry-&gt;<ref refid="structvehicle__log__entry_1a9c648444d73ab677e9e887420c549c59" kindref="member">vehicle_state</ref>;</highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>msg.<ref refid="structuv___c_a_n__msg_1aec63cc112176da7895d0cfc8b32e6935" kindref="member">data</ref>[8]<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>msg.<ref refid="structuv___c_a_n__msg_1aec63cc112176da7895d0cfc8b32e6935" kindref="member">data</ref>[9]<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="179"><highlight class="normal"></highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__uvfr__can__api_1ga62414944c3b631f57fdd08e467bcf5a4" kindref="member">uvSendCanMSG</ref>(&amp;msg);<sp/><sp/></highlight><highlight class="comment">//<sp/>&lt;--<sp/>Use<sp/>your<sp/>existing<sp/>CAN<sp/>transmit<sp/>wrapper</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cmsis__os_8c_1a02e19d5e723bfb06ba9324d625162255" kindref="member">osDelay</ref>(2);<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>small<sp/>gap<sp/>between<sp/>packets</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="183"><highlight class="normal">}</highlight></codeline>
    </programlisting>
    <location file="Core/Src/uvfr_vehicle_logger.c"/>
  </compounddef>
</doxygen>
